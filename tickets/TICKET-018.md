# π« TICKET-018: μ²΄μΈ λ°νƒ€μ„ μµμ ν™” (Chain Runtime Optimization)

**μ°μ„ μμ„**: HIGH
**μƒνƒ**: IN_PROGRESS
**λ‹΄λ‹Ή**: μΉμƒ + AIν€
**μμ΅΄μ„±**: TICKET-017 (SSOT κ°€λ“λ μΌ μμ› λ΄‰μΈ)
**μμƒ μ†μ”μ‹κ°„**: 6μ‹κ°„

## π― λ©ν‘ (Goal)

SSOT κ°€λ“λ μΌ μμ› λ΄‰μΈ μ™„λ£ ν›„, μ²΄μΈ μ‹¤ν–‰(μ΄λ―Έμ§€ λ¶„μ„ β†’ μ”μ•½ μƒμ„±)μ **λ°νƒ€μ„ ν¨μ¨μ„ κ·Ήλ€ν™”**ν•μ—¬ μ™•κµ­ MLX μ μ¬λ ¥μ„ μ™„μ „ν μ‹¤ν„.

## π“‹ μ‘μ—… λ‚΄μ©

### 1. λ¨λΈ μ¬λ΅λ”© λΉ„μ© μµμ ν™”
- **Lazy Loading + μΊμ‹ κµ¬ν„**: vllm-mlx lazy_cache + prefix_caching μ μ©
- **λ¨λΈ μΈμ¤ν„΄μ¤ κ³µμ **: Qwen3-VL β†” Llama κ°„ λ©”λ¨λ¦¬ μ¬μ‚¬μ©
- **SSOT ν•„λ“ μ¶”κ°€**: `lazy_cache_hit_rate`, `reload_overhead_ms`

### 2. μ΄λ―Έμ§€ μ „μ²λ¦¬ μµμ ν™”
- **ν•΄μƒλ„ λ‹¤μ΄μ¤μΌ€μΌλ§**: μ…λ ¥ μ΄λ―Έμ§€ μλ™ μ••μ¶• (λ©”λ¨λ¦¬ 30%β†“)
- **μ••μ¶• μ „μ²λ¦¬**: JPEG/WebP μµμ ν™” μ μ©
- **λ°°μΉ μ²λ¦¬**: μ—¬λ¬ μ΄λ―Έμ§€ λ™μ‹ μ „μ²λ¦¬
- **SSOT ν•„λ“ μ¶”κ°€**: `image_pixels`, `compression_ratio`

### 3. μ¶λ ¥ μμ‚° κ΄€λ¦¬
- **KV Cache pruning**: μ¤λλ μΊμ‹ μλ™ μ •λ¦¬
- **Adaptive max_tokens**: μ…λ ¥ ν¬κΈ°μ— λ”°λ¥Έ λ™μ  μ΅°μ •
- **Temperature μµμ ν™”**: ν’μ§ vs μ†λ„ λ°Έλ°μ‹±
- **SSOT ν•„λ“ μ¶”κ°€**: `token_budget`, `kv_cache_size`

### 4. μ‹¤μ‹κ°„ κ±΄κ°• λ¨λ‹ν„°λ§ κ°•ν™”
- **SAFE/OVER_CUTLINE λ±ƒμ§€**: λ€μ‹λ³΄λ“ μ‹¤μ‹κ°„ ν‘μ‹
- **μ²΄μΈ ν”Όν¬ μμΈ΅**: μ‹¤ν–‰ μ „ λ©”λ¨λ¦¬ μμΈ΅
- **μλ™ ν΄λ°±**: λ©”λ¨λ¦¬ μ••λ°• μ‹ 4B β†’ 2B λ¨λΈ μ „ν™
- **SSOT ν•„λ“ μ¶”κ°€**: `status_badge`, `health_score`

## β… Acceptance Criteria

- [ ] λ¨λΈ μ¬λ΅λ”© λΉ„μ© 50%β†“ (lazy loading + μΊμ‹)
- [ ] μ΄λ―Έμ§€ μ „μ²λ¦¬ λ©”λ¨λ¦¬ 30%β†“ (ν•΄μƒλ„/μ••μ¶• μµμ ν™”)
- [ ] μ¶λ ¥ μμ‚° μλ™ κ΄€λ¦¬ (KV cache / max_tokens)
- [ ] μ‹¤μ‹κ°„ κ±΄κ°• λ±ƒμ§€ ν‘μ‹ (SAFE/OVER_CUTLINE)
- [ ] SSOT μ¤ν‚¤λ§ v2 ν™•μ¥ (λ°νƒ€μ„ λ©”νΈλ¦­ μ¶”κ°€)

## π”’ μ μ•½μ‚¬ν•­

- **λ©”λ¨λ¦¬ μ•μ „μ„±**: λ¨λ“  μµμ ν™” ν›„μ—λ„ 20GB μ»·λΌμΈ μ¤€μ
- **ν’μ§ μ μ§€**: μ†λ„ ν–¥μƒμΌλ΅ μΈν• κ²°κ³Ό ν’μ§ μ €ν• λ°©μ§€
- **νΈν™μ„±**: κΈ°μ΅΄ SSOT λ¨λ‹ν„°λ§ μ²΄κ³„μ™€ μ™„μ „ νΈν™

## π“ Trinity Score μν–¥

- **η (Truth)**: +20 (λ°νƒ€μ„ λ©”νΈλ¦­ μ •ν™•μ„± ν–¥μƒ)
- **ε–„ (Goodness)**: +15 (λ©”λ¨λ¦¬/μ†λ„ ν¨μ¨ κ·Ήλ€ν™”)
- **ηΎ (Beauty)**: +8 (μ‹¤μ‹κ°„ λ±ƒμ§€ UX κ°μ„ )
- **ε­ (Serenity)**: +5 (μ²΄μΈ μ‹¤ν–‰ μ•μ •μ„± ν–¥μƒ)
- **ζ°Έ (Eternity)**: +2 (SSOT v2 μ¤ν‚¤λ§ μμ†ν™”)

**μμƒ μ΄μ **: 208.3 β†’ **258.3** (+50 ν¬μΈνΈ)

## π”— κ΄€λ ¨ λ¬Έμ„

- `docs/ssot/TICKET-016_MLX_MONITOR_SCHEMA_V1.md` - ν„μ¬ μ¤ν‚¤λ§
- `tools/mlx_optimization/ticket016_mlx_monitor.py` - λ¨λ‹ν„°λ§ μ¤ν¬λ¦½νΈ
- `artifacts/ticket016_mlx_monitor_ssot.jsonl` - SSOT λ°μ΄ν„°
- `packages/dashboard/src/components/MLXVLMMonitorCard.tsx` - λ€μ‹λ³΄λ“ μΉ΄λ“
