# Turbopack ë¹„í™œì„±í™” ìƒíƒœ ë³´ê³ ì„œ

**ë‚ ì§œ**: 2025-12-23  
**ìƒíƒœ**: ì„¤ì • ì™„ë£Œ, ì‹¤í–‰ ëŒ€ê¸° ì¤‘

---

## âœ… ì™„ë£Œëœ ì‘ì—…

### Phase 0: ë°±ì—…
- âœ… Git ìƒíƒœ í™•ì¸
- âœ… ë³€ê²½ì‚¬í•­ ë°±ì—…: `/tmp/dashboard_before_fix.diff`

### Phase 1: Turbopack ë¹„í™œì„±í™”
- âœ… `next.config.ts` ìˆ˜ì • ì™„ë£Œ
- âœ… `experimental.turbo: false` ì¶”ê°€
- âœ… ê¸°ì¡´ webpack ì„¤ì • ìœ ì§€

### Phase 2: lockfile ì¶©ëŒ ì •ë¦¬
- âœ… `.next` ë””ë ‰í† ë¦¬ ì‚­ì œ
- âœ… `node_modules` ì‚­ì œ
- âœ… `package-lock.json` ì‚­ì œ (pnpm-lock.yaml ìœ ì§€)
- âš ï¸ `pnpm install` ì‹¤íŒ¨ (pnpm ë¯¸ì„¤ì¹˜/ê²½ë¡œ ë¬¸ì œ)

### Phase 3: ëŒ€ì‹œë³´ë“œ ì¬ì‹œì‘
- âš ï¸ `pnpm dev` ì‹¤í–‰ ì‹¤íŒ¨ (pnpm ë¯¸ì„¤ì¹˜/ê²½ë¡œ ë¬¸ì œ)

---

## âš ï¸ ë°œê²¬ëœ ë¬¸ì œ

### pnpm ë¯¸ì„¤ì¹˜/ê²½ë¡œ ë¬¸ì œ
- **ì˜¤ë¥˜**: `pnpm: command not found`
- **ì˜í–¥**: ëŒ€ì‹œë³´ë“œ ì¬ì‹œì‘ ë¶ˆê°€
- **í•´ê²° í•„ìš”**: pnpm ì„¤ì¹˜ ë˜ëŠ” ê²½ë¡œ ì„¤ì •

### Tunnel ë¡œê·¸
- **ì˜¤ë¥˜**: `connection refused` (ë¡œì»¬ ì„œë¹„ìŠ¤ ë¯¸ì‹¤í–‰)
- **ì›ì¸**: ëŒ€ì‹œë³´ë“œê°€ ì‹¤í–‰ë˜ì§€ ì•Šì•„ì„œ
- **ì˜í–¥**: ì™¸ë¶€ ì ‘ê·¼ 502 ì˜¤ë¥˜ ì§€ì†

---

## ğŸ”§ ì ìš©ëœ ë³€ê²½ì‚¬í•­

### `packages/dashboard/next.config.ts`
```typescript
experimental: {
  // Turbopack ëª…ì‹œì  ë¹„í™œì„±í™” (webpack ì¶©ëŒ ë°©ì§€)
  turbo: false,
  optimizePackageImports: [
    // ... ê¸°ì¡´ ì„¤ì • ìœ ì§€
  ],
},
```

---

## ğŸ’¡ ë‹¤ìŒ ë‹¨ê³„

### 1. pnpm ì„¤ì¹˜ í™•ì¸
```bash
which pnpm
# ë˜ëŠ”
npm install -g pnpm
```

### 2. ëŒ€ì‹œë³´ë“œ ì¬ì‹œì‘
```bash
cd packages/dashboard
pnpm install  # ì˜ì¡´ì„± ì¬ì„¤ì¹˜
pnpm dev --port 3000
```

### 3. ë¡œì»¬ ê²€ì¦
```bash
curl -I http://localhost:3000
# ê¸°ëŒ€: HTTP/1.1 200 OK ë˜ëŠ” 302 Found
```

### 4. ì™¸ë¶€ ê²€ì¦
- ë¡œì»¬ OK í›„ 10ë¶„ ëŒ€ê¸°
- `https://afo-grafana.brnestrm.com` ì ‘ê·¼ í…ŒìŠ¤íŠ¸

---

## ğŸ¯ ìµœì¢… ìƒíƒœ

- âœ… **Turbopack ë¹„í™œì„±í™” ì„¤ì •**: ì™„ë£Œ
- âš ï¸ **ëŒ€ì‹œë³´ë“œ ì¬ì‹œì‘**: pnpm ë¬¸ì œë¡œ ëŒ€ê¸° ì¤‘
- â³ **ë¡œì»¬ ê²€ì¦**: ëŒ€ì‹œë³´ë“œ ì‹¤í–‰ í›„ í•„ìš”
- â³ **ì™¸ë¶€ ê²€ì¦**: ë¡œì»¬ OK í›„ í•„ìš”

---

**ìƒíƒœ**: ì„¤ì • ì™„ë£Œ. pnpm ì„¤ì¹˜ í›„ ëŒ€ì‹œë³´ë“œ ì¬ì‹œì‘ í•„ìš”.

