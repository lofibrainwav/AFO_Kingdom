# ðŸ“œ AFO Chancellor Graph Specification (ìž¬ìƒ ê·¸ëž˜í”„ ì„¤ê³„ë„)

> **"ì§€í˜œê°€ ê³§ ì½”ë“œì´ë©°, ì² í•™ì´ ê³§ ì‹œìŠ¤í…œì´ë‹¤."**

ì´ ë¬¸ì„œëŠ” AFO ì™•êµ­ì˜ ì¤‘ì•™ ì˜ì‚¬ê²°ì • ì—”ì§„ì¸ **Chancellor Graph**ì˜ ë¼ìš°íŒ… ë¡œì§, í‰ê°€ ê¸°ì¤€, ìƒíƒœ ê´€ë¦¬ ë° LLM ì „ëžµì„ ì •ì˜í•©ë‹ˆë‹¤.

---

## â… . í•µì‹¬ ì‹¤í–‰ ëª¨ë“œ ë¼ìš°íŒ… (Trinity Routing)

Chancellor GraphëŠ” ì¿¼ë¦¬ ì‹¤í–‰ ì „ **Trinity Score**ì™€ **Risk Score**ë¥¼ í‰ê°€í•˜ì—¬ ë‹¤ìŒ ì¡°ê±´ì— ë”°ë¼ ë¼ìš°íŒ…í•©ë‹ˆë‹¤.

| ëª¨ë“œ | ê²°ì • ì¡°ê±´ (Logic) | ì˜ë¯¸ |
| :--- | :--- | :--- |
| **AUTO_RUN** | `Trinity Score >= 90` **AND** `Risk Score <= 10` | ê¸°ìˆ ì /ìœ¤ë¦¬ì  í™•ì‹¤ì„± í™•ë³´. ì¦‰ì‹œ ì‹¤í–‰ (å­: Serenity). |
| **ASK** | ìœ„ ì¡°ê±´ ë¯¸ì¶©ì¡± (Risk > 10 OR Trinity < 90) | ìœ„í—˜í•˜ê±°ë‚˜ ê· í˜• ë¶€ì¡±. ì¸ê°„ ìŠ¹ì¸(Human-in-the-Loop) í•„ìš”. |
| **ASK** | `antigravity.DRY_RUN_DEFAULT = True` | ì•ˆì „ ìš°ì„ (å–„). ì ìˆ˜ì™€ ë¬´ê´€í•˜ê²Œ ì‚¬ìš©ìž í™•ì¸ ìš”ì²­. |

---

## â…¡. 3ì¸ì˜ ì „ëžµê°€ (The Strategists)

3ì¸ì˜ ì „ëžµê°€ëŠ” ë³‘ë ¬ì ìœ¼ë¡œ ì‚¬ê³ í•˜ì—¬ **Trinity Score (çœž+å–„+ç¾Ž)**ë¥¼ ì‚°ì¶œí•©ë‹ˆë‹¤.

| ì „ëžµê°€ | ì—­í•  | ë‹´ë‹¹ ì² í•™ | ì‚°ì¶œ ì§€í‘œ |
| :--- | :--- | :--- | :--- |
| **ì œê°ˆëŸ‰** (Jegalryang) | ê¸°ìˆ /êµ¬ì¡° ë¶„ì„ | **çœž (Truth)** | Truth Score |
| **ì‚¬ë§ˆì˜** (Samaui) | ë¦¬ìŠ¤í¬/ìœ¤ë¦¬ ê²€í†  | **å–„ (Goodness)** | Goodness Score, **Risk Score** |
| **ì£¼ìœ ** (Juyu) | UX/ì„œì‚¬ ì •ë¦¬ | **ç¾Ž (Beauty)** | Beauty Score |

---

## â…¢. Trinity Score ì‚°ì¶œ ê³µì‹ (The Formula)

### 1. ì ìˆ˜ ê²°í•© ë¹„ìœ¨ (7:3 Rule)
ê° MCP ë„êµ¬/ìŠ¤í‚¬ ì‹¤í–‰ ì‹œ ì ìˆ˜ëŠ” ë‹¤ìŒ ë¹„ìœ¨ë¡œ ê²°í•©ë©ë‹ˆë‹¤.
- **ì •ì  ì ìˆ˜ (Static)**: **70%** (ë³¸ì§ˆì  ì² í•™ ì ìˆ˜)
- **ë™ì  ì ìˆ˜ (Dynamic)**: **30%** (ì‹¤í–‰ ì„±ê³µì—¬ë¶€, ì†ë„, ì•ˆì „ì„±)

### 2. SSOT ê°€ì¤‘ì¹˜ (5 Pillar Weights)
- **çœž (Truth)**: 35%
- **å–„ (Goodness)**: 35%
- **ç¾Ž (Beauty)**: 20%
- **å­ (Serenity)**: 8%
- **æ°¸ (Eternity)**: 2%

---

## â…£. ìƒíƒœ ê´€ë¦¬ (State Persistence)

- **Redis Checkpoint**: `thread_id` ê¸°ë°˜ìœ¼ë¡œ `ChancellorState`ë¥¼ ì˜ì† ì €ìž¥. (System Heart)
- **ëª©ì **: ê¸´ ëŒ€í™” ë° ASK ëª¨ë“œ ì „í™˜ ì‹œ ë§¥ë½ ìœ ì§€ (**æ°¸** & **å­**).
- **ê¸°ìˆ **: Upstash Redis í†µí•© (Serverless Friendly).

---

## â…¤. LLM ë¼ìš°í„° ì „ëžµ (Fallback Logic)

ë¹„ìš© íš¨ìœ¨ì„±(å–„)ê³¼ ê°€ìš©ì„±ì„ ìœ„í•´ ë‹¤ìŒ ìˆœì„œë¡œ ëª¨ë¸ì„ ì‹œë„í•©ë‹ˆë‹¤.

1. **Ollama** (Local): ë¬´ë£Œ, ë¡œì»¬ ìš°ì„ .
2. **Gemini** (Google): ê³ ì„±ëŠ¥, ì¤‘ê°„ ë¹„ìš©.
3. **Claude** (Anthropic): ê³ ì§€ëŠ¥, ë…¼ë¦¬ ê²€ì¦.
4. **OpenAI** (Fallback): ìµœí›„ì˜ ë³´ë£¨.

---

**ìž‘ì„±ì¼**: 2025-12-18
**ìŠ¹ì¸**: Commander (í˜•ë‹˜)
