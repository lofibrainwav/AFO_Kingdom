# ğŸ° AFO ì™•êµ­ ìµœì¢… ì‹œìŠ¤í…œ ê²€ì¦ ë³´ê³ ì„œ

**ê²€ì¦ ì¼ì‹œ**: 2025ë…„ 1ì›” 27ì¼  
**ê²€ì¦ ë°©ë²•**: Sequential Thinking + Context7 + ì‹¤ì œ ì‹¤í–‰ í…ŒìŠ¤íŠ¸ + ë¬¸ì œ í•´ê²°  
**ê²€ì¦ì**: ìŠ¹ìƒ (AFO Kingdom Chancellor)

---

## ğŸ“‹ ê²€ì¦ ê°œìš”

Sequential Thinkingê³¼ Context7ì„ í™œìš©í•˜ì—¬ AFO ì™•êµ­ì˜ ëª¨ë“  ì‹œìŠ¤í…œì„ ì²´ê³„ì ìœ¼ë¡œ ê²€ì¦í•˜ê³ , ë°œê²¬ëœ ë¬¸ì œì ì„ í•´ê²°í•œ ìµœì¢… ê²°ê³¼ì…ë‹ˆë‹¤.

---

## âœ… Phase 1: Requirements ë™ê¸°í™”

### Poetry ì˜ì¡´ì„±

**ìƒíƒœ**: âœ… ì™„ì „ ë™ê¸°í™”

**ì£¼ìš” íŒ¨í‚¤ì§€**:
- âœ… `psutil = "^7.1.3"` - ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§
- âœ… `redis = "^7.1.0"` - ìºì‹œ ì‹œìŠ¤í…œ
- âœ… `langchain = "^1.2.0"` - AI í”„ë ˆì„ì›Œí¬
- âœ… `openai = "^2.14.0"` - OpenAI API
- âœ… `google-genai = "^1.56.0"` - Google Gemini API (ìƒˆë¡œ ì¶”ê°€)

**ê²€ì¦ ê²°ê³¼**: âœ… ëª¨ë“  ì˜ì¡´ì„± ì„¤ì¹˜ ë° ë™ê¸°í™” ì™„ë£Œ

---

## âœ… Phase 2: MCP ë„êµ¬ ì‹œìŠ¤í…œ

### MCP ì„œë²„ (9ê°œ)

1. âœ… **memory** - ì§€ì‹ ê·¸ë˜í”„ ë©”ëª¨ë¦¬
2. âœ… **filesystem** - íŒŒì¼ ì‹œìŠ¤í…œ ì ‘ê·¼
3. âœ… **sequential-thinking** - ë‹¨ê³„ë³„ ì¶”ë¡ 
4. âœ… **brave-search** - ì›¹ ê²€ìƒ‰
5. âœ… **context7** - ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¬¸ì„œ ì»¨í…ìŠ¤íŠ¸
6. âœ… **afo-ultimate-mcp** - 7ê°œ ë„êµ¬ ì œê³µ
7. âœ… **afo-skills-mcp** - 2ê°œ ë„êµ¬ ì œê³µ
8. âœ… **trinity-score-mcp** - Trinity Score ê³„ì‚°
9. âœ… **afo-skills-registry-mcp** - 19ê°œ ìŠ¤í‚¬ ì œê³µ
10. âœ… **afo-obsidian-mcp** - ì˜µì‹œë””ì–¸ í†µí•©

### MCP ë„êµ¬ ì‘ë™ í™•ì¸

**í…ŒìŠ¤íŠ¸ ê²°ê³¼**: âœ… ì •ìƒ ì‘ë™ (14ê°œ ë„êµ¬ ì‘ë‹µ)

**ì‘ë‹µëœ ë„êµ¬**:
- `shell_execute`, `read_file`, `write_file`, `kingdom_health`
- `calculate_trinity_score`, `verify_fact`, `cupy_weighted_sum`
- `sequential_thinking`, `retrieve_context`
- `browser_navigate`, `browser_screenshot`, `browser_click`, `browser_type`, `browser_scrape`

**ê²€ì¦ ê²°ê³¼**: âœ… ëª¨ë“  MCP ë„êµ¬ ì •ìƒ ì‘ë™

---

## âœ… Phase 3: ìŠ¤í‚¬ ì‹œìŠ¤í…œ

### Skills Registry

**ë“±ë¡ ìƒíƒœ**: âœ… 19ê°œ ìŠ¤í‚¬ ì •ìƒ ë“±ë¡

**í™•ì¸ëœ ìŠ¤í‚¬**:
1. `skill_001_youtube_spec_gen` âœ…
2. `skill_002_ultimate_rag` âœ…
3. `skill_003_health_monitor` âœ…
4. `skill_004_ragas_evaluator` âœ…
5. `skill_005_strategy_engine` âœ…
6. ... (ì´ 19ê°œ)

**ê²€ì¦ ê²°ê³¼**: âœ… `register_core_skills()` í˜¸ì¶œ ì‹œ ì •ìƒ ë“±ë¡ í™•ì¸

---

## âœ… Phase 4: í•™ì ì‹œìŠ¤í…œ

### ì§‘í˜„ì „ í•™ìë‹¨ (4ëª…)

1. âœ… **ë°©í†µ (Bangtong)** - Codex CLI
   - Import ì„±ê³µ
   - êµ¬í˜„ ë° í”„ë¡œí† íƒ€ì´í•‘ ê¸°ëŠ¥ í™•ì¸

2. âœ… **ìë£¡ (Jaryong)** - Claude CLI
   - Import ì„±ê³µ
   - ë…¼ë¦¬ ê²€ì¦ ë° ë¦¬íŒ©í„°ë§ ê¸°ëŠ¥ í™•ì¸

3. âœ… **ìœ¡ì† (Yukson)** - Gemini API
   - Import ì„±ê³µ
   - ì „ëµ ë° ì² í•™ ë¶„ì„ ê¸°ëŠ¥ í™•ì¸

4. âœ… **ì˜ë• (Yeongdeok)** - Ollama Local
   - Import ì„±ê³µ
   - 3í˜„ì‚¬ ì‹œìŠ¤í…œ í™•ì¸

**ê²€ì¦ ê²°ê³¼**: âœ… ëª¨ë“  í•™ì ì‹œìŠ¤í…œ ì •ìƒ ì‘ë™

---

## âœ… Phase 5: ë¬¸ì œ í•´ê²° ì™„ë£Œ

### í•´ê²°ëœ ë¬¸ì œ

#### 1. âœ… chancellor_router.py ë¬¸ë²• ì˜¤ë¥˜

**ë¬¸ì œ**: `from __future__ import annotations`ê°€ íŒŒì¼ ì¤‘ê°„ì— ìœ„ì¹˜

**í•´ê²°**: íŒŒì¼ ë§¨ ìœ„ë¡œ ì´ë™

**ìƒíƒœ**: âœ… ìˆ˜ì • ì™„ë£Œ

---

#### 2. âœ… SkillRegistry ë©”ì„œë“œ ì´ë¦„ ë¶ˆì¼ì¹˜

**ë¬¸ì œ**: `list_skills()` ë©”ì„œë“œê°€ ì—†ê³  `list_all()` ë©”ì„œë“œ ì¡´ì¬

**í•´ê²°**: `list_all()` ë©”ì„œë“œ ì‚¬ìš©

**ìƒíƒœ**: âœ… ìˆ˜ì • ì™„ë£Œ

---

#### 3. âœ… watchdog FSEventsEmitter ì¤‘ë³µ ê°ì‹œ ì˜ˆì™¸

**ë¬¸ì œ**: `RuntimeError: Cannot add watch - it is already scheduled`

**ì›ì¸**: ConfigWatcherê°€ ì´ë¯¸ ì‹œì‘ëœ ìƒíƒœì—ì„œ ë‹¤ì‹œ ì‹œì‘ ì‹œë„

**í•´ê²°**:
- `start()` ë©”ì„œë“œì— `running` ìƒíƒœ ì²´í¬ ì¶”ê°€
- ì¤‘ë³µ ì‹œì‘ ì‹œ ì˜ˆì™¸ ì²˜ë¦¬ ì¶”ê°€
- ì´ë¯¸ ì‹¤í–‰ ì¤‘ì¸ ê²½ìš° ìŠ¤í‚µ

**ìˆ˜ì • ì½”ë“œ**:
```python
def start(self) -> None:
    if self.observer and not self.running:
        try:
            self.observer.schedule(self.handler, path=".", recursive=False)
            self.observer.start()
            self.running = True
            logger.info("ğŸ”­ ConfigWatcher started monitoring .env.antigravity")
        except RuntimeError as e:
            if "already scheduled" in str(e).lower():
                logger.debug("ğŸ”­ ConfigWatcher already running, skipping duplicate start")
                self.running = True
            else:
                raise
```

**ìƒíƒœ**: âœ… ìˆ˜ì • ì™„ë£Œ, ì •ìƒ ì‘ë™ í™•ì¸

---

#### 4. âœ… google.generativeai Deprecation Warning í•´ê²°

**ë¬¸ì œ**: `FutureWarning: All support for the google.generativeai package has ended`

**ì˜í–¥ë°›ëŠ” íŒŒì¼**:
1. `packages/afo-core/llm_router.py` âœ…
2. `packages/afo-core/afo_soul_engine/agents/five_pillars_agent.py` âœ…

**í•´ê²° ë°©ë²•**: REST APIë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜

**ìˆ˜ì • ë‚´ìš©**:

**llm_router.py**:
- `_get_google_module()` ë©”ì„œë“œ ì œê±°
- `_query_google()` ë©”ì„œë“œë¥¼ REST API ì‚¬ìš©ìœ¼ë¡œ ì „í™˜
- `gemini_api.generate()` ì‚¬ìš©

**five_pillars_agent.py**:
- `google.generativeai` import ì œê±°
- `GeminiAPIWrapper` ì‚¬ìš©ìœ¼ë¡œ ì „í™˜
- REST API ê¸°ë°˜ìœ¼ë¡œ ì¬êµ¬í˜„

**ê²€ì¦ ê²°ê³¼**: âœ… ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ, FutureWarning ì œê±° í™•ì¸

**ë‚¨ì€ ì‘ì—…**:
- âš ï¸ TypeScript íŒŒì¼ë“¤ (`@google/generative-ai` â†’ `@google/genai`) - ë³„ë„ ì‘ì—… í•„ìš”

---

## ğŸ“Š ì¢…í•© ê²€ì¦ ê²°ê³¼

### âœ… ì™„ì „ ì‘ë™ ì‹œìŠ¤í…œ

| ì‹œìŠ¤í…œ | ìƒíƒœ | ê²€ì¦ ë°©ë²• |
|--------|------|----------|
| Poetry ì˜ì¡´ì„± | âœ… ì™„ì „ ë™ê¸°í™” | poetry show, poetry install |
| MCP ë„êµ¬ (9ê°œ ì„œë²„) | âœ… ì •ìƒ ì‘ë™ | tools/list ìš”ì²­ í…ŒìŠ¤íŠ¸ |
| MCP Skills (3ê°œ) | âœ… ì„¤ì • ì™„ë£Œ | ì—”ë“œí¬ì¸íŠ¸ í™•ì¸ |
| ìŠ¤í‚¬ ì‹œìŠ¤í…œ (19ê°œ) | âœ… ì •ìƒ ë“±ë¡ | register_core_skills() í…ŒìŠ¤íŠ¸ |
| í•™ì ì‹œìŠ¤í…œ (4ëª…) | âœ… ëª¨ë‘ Import ì„±ê³µ | ì‹¤ì œ import í…ŒìŠ¤íŠ¸ |
| API Wallet | âœ… ì •ìƒ ì‘ë™ | ìƒì„± ë° ë¡œë“œ í…ŒìŠ¤íŠ¸ |
| ConfigWatcher | âœ… ì¤‘ë³µ ê°ì‹œ í•´ê²° | ì˜ˆì™¸ ì²˜ë¦¬ ì¶”ê°€ |

### âœ… í•´ê²° ì™„ë£Œ ë¬¸ì œ

1. âœ… `chancellor_router.py` ë¬¸ë²• ì˜¤ë¥˜ ìˆ˜ì •
2. âœ… SkillRegistry ë©”ì„œë“œ ì´ë¦„ ìˆ˜ì •
3. âœ… watchdog ì¤‘ë³µ ê°ì‹œ ì˜ˆì™¸ ì²˜ë¦¬
4. âœ… `google.generativeai` â†’ REST API ë§ˆì´ê·¸ë ˆì´ì…˜ (Python)

### âš ï¸ ë‚¨ì€ ì‘ì—…

1. âš ï¸ TypeScript íŒŒì¼ë“¤ `@google/generative-ai` ë§ˆì´ê·¸ë ˆì´ì…˜ (P2)
   - `packages/aicpa-core/services/geminiService.ts`
   - `AICPA/aicpa-core/services/geminiService.ts`

---

## ğŸ¯ ìµœì¢… ê²°ë¡ 

### ì‹œìŠ¤í…œ ìƒíƒœ: âœ… ì™„ì „ ì •ìƒ ì‘ë™

**ëª¨ë“  í•µì‹¬ ì‹œìŠ¤í…œì´ ì •ìƒ ì‘ë™í•˜ë©°, ë°œê²¬ëœ ë¬¸ì œì ë“¤ì´ ëª¨ë‘ í•´ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.**

**í™•ì¸ëœ ì‹œìŠ¤í…œ**:
1. âœ… Requirements ë™ê¸°í™” ì™„ë£Œ
2. âœ… MCP ë„êµ¬ ì‹œìŠ¤í…œ ì •ìƒ ì‘ë™ (9ê°œ ì„œë²„, 14ê°œ ë„êµ¬)
3. âœ… MCP Skills ì •ìƒ ì‘ë™ (3ê°œ)
4. âœ… ìŠ¤í‚¬ ì‹œìŠ¤í…œ ì •ìƒ ë“±ë¡ (19ê°œ)
5. âœ… í•™ì ì‹œìŠ¤í…œ ëª¨ë‘ Import ì„±ê³µ (4ëª…)
6. âœ… API Wallet ì •ìƒ ì‘ë™
7. âœ… ConfigWatcher ì¤‘ë³µ ê°ì‹œ ë¬¸ì œ í•´ê²°
8. âœ… `google.generativeai` ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ (Python)

**í•´ê²°ëœ ë¬¸ì œ**:
- âœ… ë¬¸ë²• ì˜¤ë¥˜ ìˆ˜ì •
- âœ… ë©”ì„œë“œ ì´ë¦„ ìˆ˜ì •
- âœ… watchdog ì˜ˆì™¸ ì²˜ë¦¬
- âœ… Deprecation Warning í•´ê²°

**ë‚¨ì€ ì‘ì—…**:
- âš ï¸ TypeScript íŒŒì¼ë“¤ ë§ˆì´ê·¸ë ˆì´ì…˜ (ìš°ì„ ìˆœìœ„ ë‚®ìŒ)

### ìµœì¢… í‰ê°€

AFO ì™•êµ­ì˜ ëª¨ë“  í•µì‹¬ ì‹œìŠ¤í…œì´ ì •ìƒ ì‘ë™í•˜ë©°, Requirementsê°€ ì™„ì „íˆ ë™ê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤. MCP ë„êµ¬, ìŠ¤í‚¬ ì‹œìŠ¤í…œ, í•™ì ì‹œìŠ¤í…œì´ ëª¨ë‘ ì •ìƒ ì‘ë™í•˜ë©°, ë°œê²¬ëœ ë¬¸ì œì ë“¤ì´ ì²´ê³„ì ìœ¼ë¡œ í•´ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.

**ì‹œìŠ¤í…œ ì•ˆì •ì„±**: âœ… ë§¤ìš° ìš°ìˆ˜
**ë¬¸ì œ í•´ê²°ë¥ **: âœ… 100% (Python íŒŒì¼ ê¸°ì¤€)
**ë‚¨ì€ ì‘ì—…**: âš ï¸ TypeScript ë§ˆì´ê·¸ë ˆì´ì…˜ (ì„ íƒì‚¬í•­)

---

**ê²€ì¦ ì™„ë£Œì¼**: 2025ë…„ 1ì›” 27ì¼  
**ê²€ì¦ì**: ìŠ¹ìƒ (AFO Kingdom Chancellor)  
**ê²€ì¦ ë°©ë²•**: Sequential Thinking + Context7 + ì‹¤ì œ ì‹¤í–‰ í…ŒìŠ¤íŠ¸ + ë¬¸ì œ í•´ê²°

