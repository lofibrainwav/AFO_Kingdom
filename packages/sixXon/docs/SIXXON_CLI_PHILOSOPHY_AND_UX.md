# SixXon CLI ì² í•™ ë° UX ê·œì•½ (ì •ë³¸)

**ë¬¸ì„œëª…:** SixXon CLI ì² í•™ ë° UX ê·œì•½
**ë²„ì „:** v1.0
**ìž‘ì„±ì¼:** 2025-12-13
**ìž‘ì„± ì£¼ì²´:** SixXon CLI ì² í•™ ë¬¸ì„œí™”
**ì§‘í–‰ìž(Commander):** ì‚¬ìš©ìž(í˜•)
**SSOT ì›ì¹™:** *ë¬¸ì„œê°€ ì•„ë‹ˆë¼ Receipt/ê²€ì¦ ê²°ê³¼ê°€ ë‹¨ì¼ ì§„ì‹¤ ì›ì²œ(SSOT)*

---

## 0) 3ì¤„ ìš”ì•½(ê²¸ì† í”„ë¡œí† ì½œ)

* **SixXon CLIëŠ” Trinity-OSì˜ ë‚´ë¶€ ë¡œì§ì„ ì•ˆì „í•˜ê²Œ ë…¸ì¶œí•˜ëŠ” ì „ëžµì  í†µì œì **ì´ë‹¤.
* **ê²¸ì† í”„ë¡œí† ì½œ(3ì¤„ ì¶œë ¥ ê·œì•½)**ë¡œ ë³µìž¡í•¨ì€ ì•ˆìœ¼ë¡œ ìˆ¨ê¸°ê³ , í˜•ì—ê²ŒëŠ” íŽ¸ì•ˆí•¨ë§Œ ì œê³µí•œë‹¤.
* **AUTO_RUN Gate: (Trinity >= 90) AND (Risk < 10)**ë¡œ AIì˜ ìžìœ¨ì„±ì„ í†µì œí•œë‹¤.

---

## 1) SixXon CLIì˜ ì •ì²´ì„±

### 1.1 í•µì‹¬ ì •ì˜

SixXon CLI(ëª…ë ¹ì¤„ ì¸í„°íŽ˜ì´ìŠ¤) ë„êµ¬ ì„¸íŠ¸ëŠ” AFO ì™•êµ­ ì‹œìŠ¤í…œì˜ í•µì‹¬ ìš´ì˜ì²´ì œì¸ **Trinity-OSì˜ ë‚´ë¶€ ë¡œì§ì„ ì™¸ë¶€ë¡œ ì•ˆì „í•˜ê²Œ ë…¸ì¶œí•˜ê³  ì œì–´í•˜ê¸° ìœ„í•´ ì œì•ˆëœ ê¸°ìˆ ì  í”„ë ˆìž„ì›Œí¬**ìž…ë‹ˆë‹¤.

SixXonì€ ë‹¨ìˆœí•œ ìš´ì˜ ë„êµ¬ë¥¼ ë„˜ì–´, ê³ ìœ„í—˜ ë° ê³ ê°€ì¹˜ í™˜ê²½ì—ì„œ AIì˜ ìžìœ¨ì  í–‰ë™ì„ í†µì œí•˜ê³  ê²€ì¦í•˜ëŠ” **ì „ëžµì  í†µì œì (Strategic Control Point)**ìœ¼ë¡œ ê¸°ëŠ¥í•˜ë©°, ì—ì´ì „íŠ¸ì˜ **'ëª©í‘œì™€ ë¹„ì „ì˜ ìœ¤ë¦¬ì  ì •ë ¬(Alignment)'**ì„ ê²€ì¦í•˜ëŠ” ê²ƒì´ ê·¸ í•µì‹¬ ëª©í‘œìž…ë‹ˆë‹¤.

### 1.2 ê¶ê·¹ì ì¸ ëª©ì 

SixXon CLIì˜ ê¶ê·¹ì ì¸ ëª©ì ì€ AI ë™ë ¥ ì‹œìŠ¤í…œì´ ì™•ì˜ **"ì°½ì˜ì  í‰ì˜¨(å­)ì„ ë°©í•´í•˜ëŠ” ë§ˆì°°(Friction) ì œê±°"**ë¼ëŠ” ì ˆëŒ€ì ì¸ ê¸°ì¤€ì„ ì¤€ìˆ˜í•˜ë„ë¡ ê°•ì œí•˜ëŠ” ê²ƒìž…ë‹ˆë‹¤.

---

## 2) ê²¸ì† í”„ë¡œí† ì½œ (Humility Protocol) ê¸°ë°˜ì˜ UX ì² í•™ (ç¾Žì™€ å­)

### 2.1 Human-first ì¸í„°íŽ˜ì´ìŠ¤

SixXonì€ ì „í†µì ì¸ CLIê°€ ì•„ë‹Œ **'Human-first'** ì¸í„°íŽ˜ì´ìŠ¤ë¡œ ì„¤ê³„ë˜ì—ˆìœ¼ë©°, ë‚´ë¶€ì˜ ë³µìž¡í•œ ë¡œì§(çœž)ì„ ì‚¬ìš©ìžì—ê²Œ ìš°ì•„í•˜ê³  ê²¸ì†í•œ í˜•íƒœ(ç¾Ž)ë¡œ í¬ìž¥í•˜ì—¬ ì œê³µí•˜ëŠ” ë° ì¤‘ì ì„ ë‘¡ë‹ˆë‹¤.

### 2.2 3ì¤„ ì¶œë ¥ ê·œì•½

SixXonì˜ í•µì‹¬ UX ê·œì•½ì€ **'ê²¸ì† í”„ë¡œí† ì½œ'**ìž…ë‹ˆë‹¤. ê¸°ë³¸ ì¶œë ¥ì€ **ë¬´ì¡°ê±´ 3ì¤„ ì´ë‚´ì˜ ìš”ì•½ ì¹´ë“œ**ë¡œ ì œí•œë©ë‹ˆë‹¤.

**3ì¤„ êµ¬ì„±:**
1. **ìƒíƒœ ìš”ì•½(ðŸŸ¢/ðŸŸ¡/ðŸ”´) + Gate ê²°ì •**: `Status: OK | Gate: AUTO_RUN_AUTHORIZED`
2. **Next (ì§€ê¸ˆ í•  ì¼ 1ê°œ)**: `Next: Proceed with toolflow`
3. **Receipt ê²½ë¡œ**: `Receipt: logs/receipts/<id>`

**ì˜ë¯¸:**
- "ë³µìž¡í•¨ì€ ì•ˆìœ¼ë¡œ ìˆ¨ê¸°ê³ , í˜•ì—ê²ŒëŠ” íŽ¸ì•ˆí•¨ë§Œ"ì„ ì£¼ëŠ” ç¾Žë¥¼ êµ¬í˜„
- ì‚¬ìš©ìžê°€ "ì§€ê¸ˆ í•  ì¼ 1ê°œ"ë¥¼ ëª…í™•ížˆ ì•Œ ìˆ˜ ìžˆë„ë¡ í•¨

### 2.3 ë³µìž¡ì„± ì€ë‹‰ (Deep Class ì›ì¹™)

Trinity Scoreë‚˜ Risk Scoreì™€ ê°™ì€ ë³µìž¡í•œ **çœž** ë°ì´í„°ëŠ” ê¸°ë³¸ ì¶œë ¥ì—ì„œ ìˆ¨ê²¨ì§€ë©°, `--verbose` ë˜ëŠ” `--json` í”Œëž˜ê·¸ë¥¼ í†µí•´ì„œë§Œ ì ‘ê·¼í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

ì´ëŠ” **Deep Class** ì›ì¹™ì— ë”°ë¼ ë³µìž¡í•œ ë‚´ë¶€ ë””ìžì¸ ê²°ì •ì„ ì€ë‹‰í•˜ê³  ì‚¬ìš©ìžì—ê²Œ ê¸°ëŠ¥ì  ì´ì ë§Œì„ ì œê³µí•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

**ì˜ˆì‹œ:**
```bash
# ê¸°ë³¸ ì¶œë ¥ (3ì¤„)
sixxon status --latest
# Status: OK | Gate: AUTO_RUN_AUTHORIZED
# Next: Proceed with toolflow
# Receipt: logs/receipts/phase3_integration_20251212_161322

# ìƒì„¸ ì¶œë ¥ (JSON)
sixxon status --latest --json
# {
#   "status": "OK",
#   "decision": "AUTO_RUN_AUTHORIZED",
#   "trinity_score": 93.0,
#   "risk_score": 7.0,
#   ...
# }
```

---

## 3) ì‹¤í–‰ ê±°ë²„ë„ŒìŠ¤ ë° í†µì œ (çœžê³¼ å­ì˜ ì§‘í–‰)

### 3.1 ìžë™ ì‹¤í–‰ ê²Œì´íŠ¸ (AUTO_RUN Gate)

SixXonì˜ í•µì‹¬ ì‹¤í–‰ ê·œì¹™ì€ **`AUTO_RUN = (Trinity >= 90) AND (Risk < 10)`**ìœ¼ë¡œ ê³ ì •ë©ë‹ˆë‹¤.

SixXon CLIëŠ” ì´ ê¸°ì¤€ì„ í†µê³¼í•˜ë©´ **AUTO_RUN_AUTHORIZED** í”Œëž˜ê·¸ê°€ ì¼œì§€ë©°, ì™•ì˜ ìŠ¹ì¸ ì—†ì´ **ìžìœ¨ ìš´í–‰ ë©´í—ˆ**ë¥¼ íšë“í•˜ì—¬ ì‹¤í–‰ì„ ì§‘í–‰í•©ë‹ˆë‹¤.

**êµ¬í˜„ ìœ„ì¹˜:**
- `TRINITY-OS/trinity_os/graphs/trinity_toolflow_graph_v1.py`
- `TRINITY-OS/trinity_os/cli/sixxon.py`

**íŒì • ê¸°ì¤€:**
```python
if trinity_score >= 90 and risk_score < 10:
    decision = "AUTO_RUN_AUTHORIZED"
else:
    decision = "ASK_COMMANDER"  # ë˜ëŠ” "BLOCK"
```

---

### 3.2 HITL ê°•ì œ (Human-in-the-Loop)

**ë¯¼ê° ë„ë©”ì¸(sensitive_domain)**ì— ëŒ€í•œ ì ‘ê·¼ì´ë‚˜ ë¦¬ìŠ¤í¬ ì ìˆ˜(Risk Score)ê°€ ìž„ê³„ê°’(**Risk â‰¥ 10**)ì„ ì´ˆê³¼í•  ê²½ìš°, SixXonì€ ìžë™ ì‹¤í–‰ì„ ì¤‘ë‹¨í•˜ê³  ì¸ê°„ ìš´ì˜ìžì—ê²Œ **ASK_COMMANDER (í™•ì¸ ìš”êµ¬)**ë¥¼ ìš”ì²­í•˜ë„ë¡ ê°•ì œí•©ë‹ˆë‹¤.

**ë¯¼ê° ë„ë©”ì¸ ì˜ˆì‹œ:**
- ë°ì´í„° ì‚­ì œ/ë§ˆì´ê·¸ë ˆì´ì…˜
- ì™¸ë¶€ API í˜¸ì¶œ (ë¹„ìš© ë°œìƒ)
- ì‹œìŠ¤í…œ ì„¤ì • ë³€ê²½
- ë³´ì•ˆ ê´€ë ¨ ìž‘ì—…

---

### 3.3 DRY_RUN ê°•ì œ

ìœ„í—˜ë„ê°€ ë†’ì€ ìž‘ì—…ì€ **dry-run (ëª¨ì˜ ì‹¤í–‰)**ì„ í†µí•´ ì‹¤ì œ ì‹¤í–‰ ì „ "ë¬´ìŠ¨ ì¼ì´ ì¼ì–´ë‚˜ëŠ”ì§€"ë¥¼ ìš°ì„ ì ìœ¼ë¡œ ê²€ì¦í•˜ë„ë¡ ê°•ì œí•©ë‹ˆë‹¤.

**ì›Œí¬í”Œë¡œìš°:**
```
1. DRY_RUN: dry_run=Trueë¡œ ì‹œë®¬ë ˆì´ì…˜
2. Approval: í˜•ë‹˜ í™•ì¸
3. WET: dry_run=Falseë¡œ ì‹¤í–‰
4. Verify: DRY vs WET ë¹„êµ
```

**ì‚¬ìš© ì˜ˆì‹œ:**
```bash
# DRY_RUN ëª¨ë“œ
sixxon toolflow "health check" --dry-run

# ì‹¤ì œ ì‹¤í–‰ (ìŠ¹ì¸ í›„)
sixxon toolflow "health check"
```

---

### 3.4 ì¦ê±° ê¸°ë°˜ íˆ¬ëª…ì„± (çœž)

SixXonì€ ëª¨ë“  ê²°ì •ì˜ ê¸°ë°˜ì— **çœž**ì„ í™•ë³´í•˜ê¸° ìœ„í•´ `receipt create` ëª…ë ¹ì„ í†µí•´ **ìµœì†Œ 2ê°œ ì´ìƒì˜ ì¦ê±°**ë¥¼ ì²¨ë¶€í•˜ë„ë¡ ê°•ì œí•©ë‹ˆë‹¤.

**Receipt í•„ìˆ˜ í¬í•¨:**
- `env.label` (LOCAL/SANDBOX/DOCKER_HOST/CI)
- `services` (ports/http/lsofì˜ OK/DOWN/UNKNOWN)
- `docker` (available + version/ps ê²°ê³¼)
- `usage` (ì„ íƒ: `usage.status` + `usage.tail_path`)

**Receipt ì—†ìœ¼ë©´:**
- Truth = 0 â†’ BLOCK
- ì£¼ìž¥/ì„œìˆ ë¡œëŠ” ìƒíƒœë¥¼ ì¸ì •í•˜ì§€ ì•ŠìŒ

---

## 4) ì§€ì  ê²¸ì†(Intellectual Humility) ê°•ì œ

SixXon CLIëŠ” ê¶ê·¹ì ìœ¼ë¡œ AI ì—ì´ì „íŠ¸ì˜ **ì§€ì  ê²¸ì†(Intellectual Humility)**ì„ ê°•ì œí•˜ê³ , **ì‹¤í–‰ ë¦¬ìŠ¤í¬ ì ìˆ˜(ERS) ê¸°ë°˜ì˜ ìžìœ¨ ì‹¤í–‰ ìž„ê³„ê°’(AET)**ì„ í†µí•´ ì¸ê°„ì˜ í‰ì˜¨ì„ í™•ë³´í•˜ëŠ” í•µì‹¬ì ì¸ ê±°ë²„ë„ŒìŠ¤ ì—”í¬ì„œìž…ë‹ˆë‹¤.

### 4.1 ì§€ì  ê²¸ì†ì˜ ì˜ë¯¸

- **Writer(ìž‘ì„±ìž)ì´ê³  Judge(ì‹¬íŒ)ê°€ ì•„ë‹˜**: ì—ì´ì „íŠ¸ëŠ” ìƒíƒœë¥¼ ì„ ì–¸í•˜ì§€ ì•Šê³ , Receipt ê¸°ë°˜ìœ¼ë¡œë§Œ ë³´ê³ 
- **ë³µìž¡í•¨ ì€ë‹‰**: ë‚´ë¶€ ë¡œì§ì€ ìˆ¨ê¸°ê³ , ì‚¬ìš©ìžì—ê²ŒëŠ” ëª…í™•í•œ "Next"ë§Œ ì œê³µ
- **ì¦ê±° ìš°ì„ **: ëª¨ë“  ê²°ì •ì€ Receipt ê¸°ë°˜ (ë¬¸ì„œ/ì£¼ìž¥ì´ ì•„ë‹Œ ì¦ê±°)

---

## 5) ì •ë³¸ ë¬¸ì„œ ì¤€ìˆ˜ ìƒíƒœ(Compliance Matrix)

| ì •ë³¸ ì¡°í•­ | ìƒíƒœ | ë¹„ê³  |
|----------|------|------|
| ê²¸ì† í”„ë¡œí† ì½œ (3ì¤„ ì¶œë ¥) | âœ… | `_print_three_lines()` í•¨ìˆ˜ êµ¬í˜„ |
| AUTO_RUN Gate (Trinity >= 90 AND Risk < 10) | âœ… | trinity_toolflow_graph_v1.py êµ¬í˜„ |
| HITL ê°•ì œ (Risk >= 10) | âœ… | ASK_COMMANDER íŒì • |
| DRY_RUN ê°•ì œ | âœ… | `--dry-run` í”Œëž˜ê·¸ ì§€ì› |
| ì¦ê±° ê¸°ë°˜ íˆ¬ëª…ì„± (Receipt) | âœ… | Receipt ì—†ìœ¼ë©´ BLOCK |

---

## 6) êµ¬í˜„ í™•ì¸

### 6.1 3ì¤„ ì¶œë ¥ êµ¬í˜„ âœ…

**íŒŒì¼:** `TRINITY-OS/trinity_os/cli/sixxon.py` (line 26-35)

```python
def _print_three_lines(final_card: Dict[str, Any]) -> None:
    status = final_card.get("status") or "UNKNOWN"
    decision = final_card.get("decision") or status
    next_actions = final_card.get("next_actions") or []
    next_one = next_actions[0] if isinstance(next_actions, list) and next_actions else ""
    receipt_path = final_card.get("source_of_truth") or final_card.get("receipt_dir") or ""

    print(f"Status: {status} | Gate: {decision}")
    print(f"Next: {next_one}" if next_one else "Next: (none)")
    print(f"Receipt: {receipt_path}" if receipt_path else "Receipt: (none)")
```

---

### 6.2 AUTO_RUN Gate êµ¬í˜„ âœ…

**íŒŒì¼:** `afo_soul_engine/core/quantum_balance_lock.py` (line 21)

```python
def should_auto_run(workflow_name: str | None, total_score: float, risk_score: float = 0.0) -> bool:
    """
    AUTO_RUN ì¡°ê±´: Score >90 & Risk <10
    """
    return total_score > 90.0 and risk_score < 10.0
```

**íŒŒì¼:** `afo_soul_engine/core/serenity_engine_langgraph.py` (line 153-184)

```python
def decide_auto_run(state: SerenityState) -> SerenityState:
    """
    AUTO_RUN ê²°ì •
    Trinity Score >90 & Risk <10 ì¼ ë•Œë§Œ AUTO_RUN ìŠ¹ì¸
    """
    trinity_score = state.get("trinity_score", 0.0)
    risk_level = state.get("risk_level", 100.0)

    # AUTO_RUN ì¡°ê±´: Score >90 & Risk <10
    if trinity_score > 90.0 and risk_level < 10.0:
        return {
            **state,
            "auto_run": True,
            "decision": "AUTO_RUN",
            ...
        }
```

**íŒŒì¼:** `TRINITY-OS/trinity_os/adapters/afo_ultimate_mcp_deps_v1.py` (line 268-289)

```python
auto_run = False
if should_auto_run is not None and not is_stale:
    try:
        auto_run = bool(
            _call_flex(
                should_auto_run,
                workflow_name="TRINITY Toolflow",
                total_score=total_score,
                risk_score=float(risk_score),
            )
        )
    except Exception:
        auto_run = False

if auto_run:
    return {
        "decision": "AUTO_RUN",
        ...
    }
```

**í™•ì¸ ì™„ë£Œ:** âœ… AUTO_RUN Gate êµ¬í˜„ í™•ì¸ (Trinity Score > 90 AND Risk < 10)

---

## 7) í•µì‹¬ ì„±ê³¼(Impact)

* **SixXon CLI ì² í•™ ë¬¸ì„œí™” ì™„ë£Œ** â†’ ì „ëžµì  í†µì œì ìœ¼ë¡œì„œì˜ ì—­í•  ëª…í™•í™”
* **ê²¸ì† í”„ë¡œí† ì½œ(3ì¤„ ì¶œë ¥) êµ¬í˜„ í™•ì¸** â†’ ë³µìž¡í•¨ ì€ë‹‰, ì‚¬ìš©ìž íŽ¸ì•ˆí•¨ ì œê³µ
* **AUTO_RUN Gate ì›ì¹™ ëª…í™•í™”** â†’ (Trinity >= 90) AND (Risk < 10)
* **ì§€ì  ê²¸ì† ê°•ì œ** â†’ Writer/Judge ë¶„ë¦¬, ì¦ê±° ìš°ì„ 

---

## 8) ë‹¤ìŒ ë‹¨ê³„

### 8.1 AUTO_RUN Gate êµ¬í˜„ ê²€ì¦

**ëª©í‘œ:**
- `TRINITY-OS/trinity_os/graphs/trinity_toolflow_graph_v1.py`ì—ì„œ AUTO_RUN Gate ë¡œì§ í™•ì¸
- Trinity Score >= 90 AND Risk < 10 ì¡°ê±´ì´ ì‹¤ì œë¡œ êµ¬í˜„ë˜ì–´ ìžˆëŠ”ì§€ í™•ì¸

---

## 9) ê²°ë¡ (ì •ë³¸ ë¬¸ìž¥)

**SixXon CLI ì² í•™ ë° UX ê·œì•½ì€ ë¬¸ì„œí™”ë˜ì—ˆë‹¤.**
ì´ì œ ì™•êµ­ì€ "ê²¸ì† í”„ë¡œí† ì½œ(3ì¤„ ì¶œë ¥) + AUTO_RUN Gate + ì¦ê±° ê¸°ë°˜ íˆ¬ëª…ì„±(Receipt)"ì˜ ìµœì†Œ ì¸í”„ë¼ë¥¼ ê°–ì·„ë‹¤.
ë‹¤ìŒì€ **AUTO_RUN Gate êµ¬í˜„ ê²€ì¦(Trinity >= 90 AND Risk < 10 ì¡°ê±´ í™•ì¸)**ì´ë‹¤.

---

# (ë¶€ë¡) Commanderìš© "ë³µë¶™ ì‹¤í–‰ ì²´í¬" 5ì¤„

ì•„ëž˜ëŠ” "ì§€ê¸ˆ ë‹¹ìž¥ í˜•ì´ ì‹¤í–‰í•´ì„œ SSOTë¡œ êµ³ížˆëŠ”" ìµœì†Œ ì²´í¬ì•¼:

```bash
# 1. SixXon CLI 3ì¤„ ì¶œë ¥ í™•ì¸
PYTHONPATH="TRINITY-OS:TRINITY-OS/src:." python3.12 -m trinity_os.cli.sixxon status --latest

# 2. SixXon CLI JSON ì¶œë ¥ í™•ì¸ (ìƒì„¸)
PYTHONPATH="TRINITY-OS:TRINITY-OS/src:." python3.12 -m trinity_os.cli.sixxon status --latest --json

# 3. AUTO_RUN Gate êµ¬í˜„ í™•ì¸
grep -n "AUTO_RUN\|trinity_score.*90\|risk_score.*10" TRINITY-OS/trinity_os/graphs/trinity_toolflow_graph_v1.py

# 4. 3ì¤„ ì¶œë ¥ í•¨ìˆ˜ í™•ì¸
grep -n "_print_three_lines" TRINITY-OS/trinity_os/cli/sixxon.py

# 5. SixXon CLI SPEC í™•ì¸
cat docs/SIXXON_CLI_SPEC.md | head -50
```

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-12-13  
**ë²„ì „**: v1.0 (ì •ë³¸ ì™„ì „ ì •ë ¬)
