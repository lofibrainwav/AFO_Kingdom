Run started:2025-12-26 06:01:07.472549

Test results:
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/AFO/afo_skills_registry.py:1360:0
1359	    )
1360	except Exception:
1361	    pass  # Silent failure for optional skill
1362	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/AFO/afo_skills_registry.py:1415:0
1414	    AFOSkillCard.model_rebuild()
1415	except Exception as e:
1416	    pass
1417	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/AFO/api_server.py:134:8
133	            app.include_router(chancellor_router)
134	        except Exception:
135	            pass
136	

--------------------------------------------------
>> Issue: [B324:hashlib] Use of weak MD5 hash for security. Consider usedforsecurity=False
   Severity: High   Confidence: High
   CWE: CWE-327 (https://cwe.mitre.org/data/definitions/327.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b324_hashlib.html
   Location: packages/afo-core/AFO/cache/query_cache.py:82:19
81	        key_str = json.dumps(key_components, sort_keys=True, default=str)
82	        key_hash = hashlib.md5(key_str.encode()).hexdigest()[:16]
83	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/AFO/chancellor_graph.py:253:4
252	        threshold = settings.CHANCELLOR_MAX_MEMORY_ITEMS
253	    except Exception:
254	        pass
255	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/AFO/chancellor_graph.py:414:4
413	        risk_threshold = settings.CHANCELLOR_RISK_THRESHOLD
414	    except Exception:
415	        pass
416	

--------------------------------------------------
>> Issue: [B404:blacklist] Consider possible security implications associated with the subprocess module.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_imports.html#b404-import-subprocess
   Location: packages/afo-core/AFO/genui/genui_orchestrator.py:127:8
126	        """Run Trinity Shield on the generated file"""
127	        import subprocess
128	

--------------------------------------------------
>> Issue: [B603:subprocess_without_shell_equals_true] subprocess call - check for execution of untrusted input.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b603_subprocess_without_shell_equals_true.html
   Location: packages/afo-core/AFO/genui/genui_orchestrator.py:139:21
138	            # I will trust reliability or refactor later. For now, default high score if script runs.
139	            result = subprocess.run(cmd, capture_output=True, text=True)
140	

--------------------------------------------------
>> Issue: [B310:blacklist] Audit url open for permitted schemes. Allowing use of file:/ or custom schemes is often unexpected.
   Severity: Medium   Confidence: High
   CWE: CWE-22 (https://cwe.mitre.org/data/definitions/22.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_calls.html#b310-urllib-urlopen
   Location: packages/afo-core/AFO/health/organs_v2.py:40:13
39	        req = Request(url, method="GET")
40	        with urlopen(req, timeout=timeout_s) as resp:
41	            ok = 200 <= int(resp.status) < 400

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/AFO/input_server.py:518:4
517	            api_wallet_connected = response.status_code == 200
518	    except Exception:
519	        pass
520	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/AFO/input_server.py:530:8
529	                input_stats = stats
530	        except Exception:
531	            pass
532	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/AFO/input_server.py:633:8
632	            wallet = APIWallet()
633	        except Exception:
634	            pass
635	

--------------------------------------------------
>> Issue: [B104:hardcoded_bind_all_interfaces] Possible binding to all interfaces.
   Severity: Medium   Confidence: Medium
   CWE: CWE-605 (https://cwe.mitre.org/data/definitions/605.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b104_hardcoded_bind_all_interfaces.html
   Location: packages/afo-core/AFO/input_server.py:711:46
710	        port = int(os.getenv("INPUT_SERVER_PORT", "4200"))
711	        host = os.getenv("INPUT_SERVER_HOST", "0.0.0.0")
712	

--------------------------------------------------
>> Issue: [B324:hashlib] Use of weak MD5 hash for security. Consider usedforsecurity=False
   Severity: High   Confidence: High
   CWE: CWE-327 (https://cwe.mitre.org/data/definitions/327.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b324_hashlib.html
   Location: packages/afo-core/AFO/julie_cpa/grok_engine.py:112:32
111	        data_str = json.dumps(data, sort_keys=True)
112	        return f"grok_analysis:{hashlib.md5(data_str.encode()).hexdigest()}"
113	

--------------------------------------------------
>> Issue: [B311:blacklist] Standard pseudo-random generators are not suitable for security/cryptographic purposes.
   Severity: Low   Confidence: High
   CWE: CWE-330 (https://cwe.mitre.org/data/definitions/330.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_calls.html#b311-random
   Location: packages/afo-core/AFO/julie_cpa/infrastructure/financial_connector.py:49:11
48	        # Simulate Network Flakiness (Fog of War) - Reduced failure rate for stability
49	        if random.random() < 0.05:  # Reduced from 30% to 5% for better stability
50	            raise ConnectionError("Network Glitch")

--------------------------------------------------
>> Issue: [B311:blacklist] Standard pseudo-random generators are not suitable for security/cryptographic purposes.
   Severity: Low   Confidence: High
   CWE: CWE-330 (https://cwe.mitre.org/data/definitions/330.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_calls.html#b311-random
   Location: packages/afo-core/AFO/julie_cpa/infrastructure/financial_connector.py:86:21
85	        base_spending = 2450000
86	        volatility = random.uniform(0.9, 1.1)
87	        monthly_spending = int(base_spending * volatility)

--------------------------------------------------
>> Issue: [B311:blacklist] Standard pseudo-random generators are not suitable for security/cryptographic purposes.
   Severity: Low   Confidence: High
   CWE: CWE-330 (https://cwe.mitre.org/data/definitions/330.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_calls.html#b311-random
   Location: packages/afo-core/AFO/julie_cpa/infrastructure/financial_connector.py:104:23
103	        # Pick 3-4 random transactions
104	        daily_sample = random.sample(merchants, k=random.randint(3, 5))
105	        for i, (name, amount, cat) in enumerate(daily_sample):

--------------------------------------------------
>> Issue: [B311:blacklist] Standard pseudo-random generators are not suitable for security/cryptographic purposes.
   Severity: Low   Confidence: High
   CWE: CWE-330 (https://cwe.mitre.org/data/definitions/330.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_calls.html#b311-random
   Location: packages/afo-core/AFO/julie_cpa/infrastructure/financial_connector.py:104:50
103	        # Pick 3-4 random transactions
104	        daily_sample = random.sample(merchants, k=random.randint(3, 5))
105	        for i, (name, amount, cat) in enumerate(daily_sample):

--------------------------------------------------
>> Issue: [B311:blacklist] Standard pseudo-random generators are not suitable for security/cryptographic purposes.
   Severity: Low   Confidence: High
   CWE: CWE-330 (https://cwe.mitre.org/data/definitions/330.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_calls.html#b311-random
   Location: packages/afo-core/AFO/julie_cpa/infrastructure/financial_connector.py:107:28
106	            transactions.append({
107	                "id": f"tx-{random.randint(1000, 9999)}",
108	                "merchant": name,

--------------------------------------------------
>> Issue: [B311:blacklist] Standard pseudo-random generators are not suitable for security/cryptographic purposes.
   Severity: Low   Confidence: High
   CWE: CWE-330 (https://cwe.mitre.org/data/definitions/330.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_calls.html#b311-random
   Location: packages/afo-core/AFO/julie_cpa/infrastructure/financial_connector.py:133:11
132	            
133	        if random.random() < 0.3:
134	             alerts.append({"level": "warning", "message": "Unusual subscription detected"})

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/AFO/llm_router.py:166:20
165	                        return res if isinstance(res, str) else None
166	                    except Exception:
167	                        pass
168	                return getattr(settings, name, None) if settings else os.getenv(name)

--------------------------------------------------
>> Issue: [B324:hashlib] Use of weak MD5 hash for security. Consider usedforsecurity=False
   Severity: High   Confidence: High
   CWE: CWE-327 (https://cwe.mitre.org/data/definitions/327.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b324_hashlib.html
   Location: packages/afo-core/AFO/memory_system/yeongdeok_complete.py:52:19
51	        try:
52	            return hashlib.md5(content.encode()).hexdigest()[:16]
53	        except Exception:

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/AFO/memory_system/yeongdeok_complete.py:94:8
93	                return entry.content
94	        except Exception:
95	            pass
96	        return None

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/AFO/memory_system/yeongdeok_complete.py:165:8
164	                ]
165	        except Exception:
166	            pass
167	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/AFO/memory_system/yeongdeok_complete.py:198:8
197	                    del self.long_term[key]
198	        except Exception:
199	            pass
200	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/AFO/memory_system/yeongdeok_complete.py:210:8
209	                return True
210	        except Exception:
211	            pass
212	        return False

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/afo_skills_registry.py:1360:0
1359	    )
1360	except Exception:
1361	    pass  # Silent failure for optional skill
1362	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/afo_skills_registry.py:1415:0
1414	    AFOSkillCard.model_rebuild()
1415	except Exception as e:
1416	    pass
1417	

--------------------------------------------------
>> Issue: [B615:huggingface_unsafe_download] Unsafe Hugging Face Hub download without revision pinning in from_pretrained()
   Severity: Medium   Confidence: High
   CWE: CWE-494 (https://cwe.mitre.org/data/definitions/494.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b615_huggingface_unsafe_download.html
   Location: packages/afo-core/alignment/advanced_dpo.py:34:12
33	    # 1. Load Model & Tokenizer
34	    model = AutoModelForCausalLM.from_pretrained(
35	        model_name
36	    )  # Add load_in_4bit=True for QLoRA
37	    tokenizer = AutoTokenizer.from_pretrained(model_name)

--------------------------------------------------
>> Issue: [B615:huggingface_unsafe_download] Unsafe Hugging Face Hub download without revision pinning in from_pretrained()
   Severity: Medium   Confidence: High
   CWE: CWE-494 (https://cwe.mitre.org/data/definitions/494.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b615_huggingface_unsafe_download.html
   Location: packages/afo-core/alignment/advanced_dpo.py:37:16
36	    )  # Add load_in_4bit=True for QLoRA
37	    tokenizer = AutoTokenizer.from_pretrained(model_name)
38	    if tokenizer.pad_token is None:

--------------------------------------------------
>> Issue: [B615:huggingface_unsafe_download] Unsafe Hugging Face Hub download without revision pinning in load_dataset()
   Severity: Medium   Confidence: High
   CWE: CWE-494 (https://cwe.mitre.org/data/definitions/494.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b615_huggingface_unsafe_download.html
   Location: packages/afo-core/alignment/advanced_dpo.py:61:14
60	        return
61	    dataset = load_dataset("json", data_files=data_path)
62	    if "test" not in dataset:

--------------------------------------------------
>> Issue: [B615:huggingface_unsafe_download] Unsafe Hugging Face Hub download without revision pinning in from_pretrained()
   Severity: Medium   Confidence: High
   CWE: CWE-494 (https://cwe.mitre.org/data/definitions/494.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b615_huggingface_unsafe_download.html
   Location: packages/afo-core/alignment/basic_dpo.py:35:12
34	    # In a real scenario, use device_map="auto" for GPU
35	    model = AutoModelForCausalLM.from_pretrained(model_name)
36	    tokenizer = AutoTokenizer.from_pretrained(model_name)

--------------------------------------------------
>> Issue: [B615:huggingface_unsafe_download] Unsafe Hugging Face Hub download without revision pinning in from_pretrained()
   Severity: Medium   Confidence: High
   CWE: CWE-494 (https://cwe.mitre.org/data/definitions/494.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b615_huggingface_unsafe_download.html
   Location: packages/afo-core/alignment/basic_dpo.py:36:16
35	    model = AutoModelForCausalLM.from_pretrained(model_name)
36	    tokenizer = AutoTokenizer.from_pretrained(model_name)
37	

--------------------------------------------------
>> Issue: [B615:huggingface_unsafe_download] Unsafe Hugging Face Hub download without revision pinning in load_dataset()
   Severity: Medium   Confidence: High
   CWE: CWE-494 (https://cwe.mitre.org/data/definitions/494.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b615_huggingface_unsafe_download.html
   Location: packages/afo-core/alignment/basic_dpo.py:51:14
50	
51	    dataset = load_dataset("json", data_files=data_path)
52	

--------------------------------------------------
>> Issue: [B324:hashlib] Use of weak MD5 hash for security. Consider usedforsecurity=False
   Severity: High   Confidence: High
   CWE: CWE-327 (https://cwe.mitre.org/data/definitions/327.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b324_hashlib.html
   Location: packages/afo-core/api/cache_headers.py:54:11
53	    # 1. Generate ETag (Strong validation)
54	    etag = hashlib.md5(content).hexdigest()
55	    response.headers["ETag"] = f'"{etag}"'

--------------------------------------------------
>> Issue: [B324:hashlib] Use of weak MD5 hash for security. Consider usedforsecurity=False
   Severity: High   Confidence: High
   CWE: CWE-327 (https://cwe.mitre.org/data/definitions/327.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b324_hashlib.html
   Location: packages/afo-core/api/cache_headers.py:72:19
71	
72	    current_etag = hashlib.md5(current_content).hexdigest()
73	    # Handle quoted etags

--------------------------------------------------
>> Issue: [B104:hardcoded_bind_all_interfaces] Possible binding to all interfaces.
   Severity: Medium   Confidence: Medium
   CWE: CWE-605 (https://cwe.mitre.org/data/definitions/605.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b104_hardcoded_bind_all_interfaces.html
   Location: packages/afo-core/api/compat.py:437:46
436	                "debug": os.getenv("AFO_DEBUG", "true").lower() == "true",
437	                "host": os.getenv("AFO_HOST", "0.0.0.0"),
438	                "port": int(os.getenv("AFO_PORT", "8010")),

--------------------------------------------------
>> Issue: [B104:hardcoded_bind_all_interfaces] Possible binding to all interfaces.
   Severity: Medium   Confidence: Medium
   CWE: CWE-605 (https://cwe.mitre.org/data/definitions/605.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b104_hardcoded_bind_all_interfaces.html
   Location: packages/afo-core/api/compat.py:462:20
461	            "debug": True,
462	            "host": "0.0.0.0",
463	            "port": 8010,
464	            "cors_origins": ["http://localhost:3000"],
465	        }
466	
467	
468	# Global instances with singleton pattern (beautiful code)
469	html_facade = HTMLDataFacade()
470	settings_manager = SettingsManager()

--------------------------------------------------
>> Issue: [B324:hashlib] Use of weak MD5 hash for security. Consider usedforsecurity=False
   Severity: High   Confidence: High
   CWE: CWE-327 (https://cwe.mitre.org/data/definitions/327.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b324_hashlib.html
   Location: packages/afo-core/api/middleware/cache_middleware.py:78:21
77	        query_string = str(request.url.query)
78	        query_hash = hashlib.md5(query_string.encode()).hexdigest()[:8]
79	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/api/middleware/sql_guard.py:75:16
74	                            break
75	                except Exception:
76	                    pass
77	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/api/routers/rag_query.py:137:8
136	            )
137	        except:
138	            pass
139	

--------------------------------------------------
>> Issue: [B311:blacklist] Standard pseudo-random generators are not suitable for security/cryptographic purposes.
   Severity: Low   Confidence: High
   CWE: CWE-330 (https://cwe.mitre.org/data/definitions/330.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_calls.html#b311-random
   Location: packages/afo-core/api/routers/skills.py:459:23
458	
459	    predicted_impact = random.uniform(-2.0, 5.0)
460	    new_score = min(100.0, max(0.0, current_score + predicted_impact))

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/api/routers/users.py:248:8
247	                pass
248	        except Exception:
249	            # DB 연결 실패 등: fallback 진행
250	            pass
251	

--------------------------------------------------
>> Issue: [B404:blacklist] Consider possible security implications associated with the subprocess module.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_imports.html#b404-import-subprocess
   Location: packages/afo-core/api/routes/git_status.py:10:0
9	import logging
10	import subprocess
11	from pathlib import Path

--------------------------------------------------
>> Issue: [B603:subprocess_without_shell_equals_true] subprocess call - check for execution of untrusted input.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b603_subprocess_without_shell_equals_true.html
   Location: packages/afo-core/api/routes/git_status.py:27:17
26	    try:
27	        result = subprocess.run(
28	            cmd.split(),
29	            cwd=WORKSPACE_ROOT,
30	            capture_output=True,
31	            text=True,
32	            timeout=10,
33	        )
34	        if result.returncode == 0:

--------------------------------------------------
>> Issue: [B602:subprocess_popen_with_shell_equals_true] subprocess call with shell=True identified, security issue.
   Severity: High   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b602_subprocess_popen_with_shell_equals_true.html
   Location: packages/afo-core/api/routes/git_status.py:68:21
67	                today_commits_cmd,
68	                shell=True,
69	                cwd=WORKSPACE_ROOT,
70	                capture_output=True,
71	                text=True,
72	                timeout=10,
73	            )
74	            today_commits = result.stdout.strip() if result.returncode == 0 else "0"
75	        except Exception:
76	            today_commits = "0"

--------------------------------------------------
>> Issue: [B404:blacklist] Consider possible security implications associated with the subprocess module.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_imports.html#b404-import-subprocess
   Location: packages/afo-core/api/routes/integrity_check.py:12:0
11	import logging
12	import subprocess
13	from pathlib import Path

--------------------------------------------------
>> Issue: [B607:start_process_with_partial_path] Starting a process with a partial executable path
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b607_start_process_with_partial_path.html
   Location: packages/afo-core/api/routes/integrity_check.py:95:22
94	        # MyPy, Ruff, pytest, SBOM 확인
95	        mypy_result = subprocess.run(
96	            ["which", "mypy"], capture_output=True, text=True, timeout=5
97	        )
98	        ruff_result = subprocess.run(

--------------------------------------------------
>> Issue: [B603:subprocess_without_shell_equals_true] subprocess call - check for execution of untrusted input.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b603_subprocess_without_shell_equals_true.html
   Location: packages/afo-core/api/routes/integrity_check.py:95:22
94	        # MyPy, Ruff, pytest, SBOM 확인
95	        mypy_result = subprocess.run(
96	            ["which", "mypy"], capture_output=True, text=True, timeout=5
97	        )
98	        ruff_result = subprocess.run(

--------------------------------------------------
>> Issue: [B607:start_process_with_partial_path] Starting a process with a partial executable path
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b607_start_process_with_partial_path.html
   Location: packages/afo-core/api/routes/integrity_check.py:98:22
97	        )
98	        ruff_result = subprocess.run(
99	            ["which", "ruff"], capture_output=True, text=True, timeout=5
100	        )
101	        pytest_result = subprocess.run(

--------------------------------------------------
>> Issue: [B603:subprocess_without_shell_equals_true] subprocess call - check for execution of untrusted input.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b603_subprocess_without_shell_equals_true.html
   Location: packages/afo-core/api/routes/integrity_check.py:98:22
97	        )
98	        ruff_result = subprocess.run(
99	            ["which", "ruff"], capture_output=True, text=True, timeout=5
100	        )
101	        pytest_result = subprocess.run(

--------------------------------------------------
>> Issue: [B607:start_process_with_partial_path] Starting a process with a partial executable path
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b607_start_process_with_partial_path.html
   Location: packages/afo-core/api/routes/integrity_check.py:101:24
100	        )
101	        pytest_result = subprocess.run(
102	            ["which", "pytest"], capture_output=True, text=True, timeout=5
103	        )
104	

--------------------------------------------------
>> Issue: [B603:subprocess_without_shell_equals_true] subprocess call - check for execution of untrusted input.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b603_subprocess_without_shell_equals_true.html
   Location: packages/afo-core/api/routes/integrity_check.py:101:24
100	        )
101	        pytest_result = subprocess.run(
102	            ["which", "pytest"], capture_output=True, text=True, timeout=5
103	        )
104	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/api/routes/system_health.py:143:12
142	                )
143	            except Exception:
144	                pass
145	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/api/routes/system_health.py:286:8
285	                verified_list.append(display)
286	        except Exception:
287	            pass
288	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/api_server.py:134:8
133	            app.include_router(chancellor_router)
134	        except Exception:
135	            pass
136	

--------------------------------------------------
>> Issue: [B108:hardcoded_tmp_directory] Probable insecure usage of temp file/directory.
   Severity: Medium   Confidence: Medium
   CWE: CWE-377 (https://cwe.mitre.org/data/definitions/377.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b108_hardcoded_tmp_directory.html
   Location: packages/afo-core/brain/living_brain_async.py:40:27
39	                "error": str(e),
40	                "receipt": "/tmp/mock_receipt_dir",  # Mock path (must be dir containing receipt.json)
41	            }
42	
43	        # Determine success scenario based on mode and input
44	        success = True
45	        summary = f"Processed thought: {thought} in mode {mode}"

--------------------------------------------------
>> Issue: [B108:hardcoded_tmp_directory] Probable insecure usage of temp file/directory.
   Severity: Medium   Confidence: Medium
   CWE: CWE-377 (https://cwe.mitre.org/data/definitions/377.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b108_hardcoded_tmp_directory.html
   Location: packages/afo-core/brain/living_brain_async.py:46:18
45	        summary = f"Processed thought: {thought} in mode {mode}"
46	        receipt = "/tmp/mock_receipt.json"
47	

--------------------------------------------------
>> Issue: [B102:exec_used] Use of exec detected.
   Severity: Medium   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b102_exec_used.html
   Location: packages/afo-core/browser_auth/mcp_integration.py:445:8
444	        exec_locals: dict[str, Any] = {}
445	        exec(code, exec_globals, exec_locals)
446	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/browser_auth/mcp_integration.py:549:28
548	                                page = None
549	                            except Exception:
550	                                pass
551	                        continue

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/chancellor_graph.py:253:4
252	        threshold = settings.CHANCELLOR_MAX_MEMORY_ITEMS
253	    except Exception:
254	        pass
255	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/chancellor_graph.py:414:4
413	        risk_threshold = settings.CHANCELLOR_RISK_THRESHOLD
414	    except Exception:
415	        pass
416	

--------------------------------------------------
>> Issue: [B104:hardcoded_bind_all_interfaces] Possible binding to all interfaces.
   Severity: Medium   Confidence: Medium
   CWE: CWE-605 (https://cwe.mitre.org/data/definitions/605.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b104_hardcoded_bind_all_interfaces.html
   Location: packages/afo-core/config/settings.py:145:43
144	    INPUT_SERVER_PORT: int = Field(default=4200, description="Input Server 포트")
145	    INPUT_SERVER_HOST: str = Field(default="0.0.0.0", description="Input Server 호스트")
146	    DASHBOARD_URL: str = Field(

--------------------------------------------------
>> Issue: [B104:hardcoded_bind_all_interfaces] Possible binding to all interfaces.
   Severity: Medium   Confidence: Medium
   CWE: CWE-605 (https://cwe.mitre.org/data/definitions/605.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b104_hardcoded_bind_all_interfaces.html
   Location: packages/afo-core/config/settings.py:157:41
156	    )
157	    API_SERVER_HOST: str = Field(default="0.0.0.0", description="API Server 호스트")
158	    SOUL_ENGINE_PORT: int = Field(

--------------------------------------------------
>> Issue: [B608:hardcoded_sql_expressions] Possible SQL injection vector through string-based query construction.
   Severity: Medium   Confidence: Medium
   CWE: CWE-89 (https://cwe.mitre.org/data/definitions/89.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b608_hardcoded_sql_expressions.html
   Location: packages/afo-core/domain/audit/trail.py:151:24
150	                await conn.execute(
151	                    f"""
152	                    INSERT INTO {self.TABLE_NAME}
153	                    (decision_id, trinity_score, risk_score, action, timestamp, context)
154	                    VALUES ($1, $2, $3, $4, $5, $6)
155	                """,
156	                    uuid.UUID(record.decision_id),

--------------------------------------------------
>> Issue: [B608:hardcoded_sql_expressions] Possible SQL injection vector through string-based query construction.
   Severity: Medium   Confidence: Low
   CWE: CWE-89 (https://cwe.mitre.org/data/definitions/89.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b608_hardcoded_sql_expressions.html
   Location: packages/afo-core/domain/audit/trail.py:181:20
180	            rows = await conn.fetch(
181	                f"""
182	                SELECT * FROM {self.TABLE_NAME}
183	                ORDER BY timestamp DESC
184	                LIMIT $1
185	            """,
186	                limit,

--------------------------------------------------
>> Issue: [B608:hardcoded_sql_expressions] Possible SQL injection vector through string-based query construction.
   Severity: Medium   Confidence: Low
   CWE: CWE-89 (https://cwe.mitre.org/data/definitions/89.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b608_hardcoded_sql_expressions.html
   Location: packages/afo-core/domain/audit/trail.py:206:20
205	            stats = await conn.fetchrow(
206	                f"""
207	                SELECT
208	                    COUNT(*) as total_decisions,
209	                    AVG(trinity_score) as avg_trinity,
210	                    AVG(risk_score) as avg_risk,
211	                    SUM(CASE WHEN action = 'AUTO_RUN' THEN 1 ELSE 0 END) as auto_run_count,
212	                    SUM(CASE WHEN action = 'ASK_COMMANDER' THEN 1 ELSE 0 END) as ask_count
213	                FROM {self.TABLE_NAME}
214	            """
215	            )

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/input_server.py:518:4
517	            api_wallet_connected = response.status_code == 200
518	    except Exception:
519	        pass
520	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/input_server.py:530:8
529	                input_stats = stats
530	        except Exception:
531	            pass
532	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/input_server.py:633:8
632	            wallet = APIWallet()
633	        except Exception:
634	            pass
635	

--------------------------------------------------
>> Issue: [B104:hardcoded_bind_all_interfaces] Possible binding to all interfaces.
   Severity: Medium   Confidence: Medium
   CWE: CWE-605 (https://cwe.mitre.org/data/definitions/605.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b104_hardcoded_bind_all_interfaces.html
   Location: packages/afo-core/input_server.py:711:46
710	        port = int(os.getenv("INPUT_SERVER_PORT", "4200"))
711	        host = os.getenv("INPUT_SERVER_HOST", "0.0.0.0")
712	

--------------------------------------------------
>> Issue: [B311:blacklist] Standard pseudo-random generators are not suitable for security/cryptographic purposes.
   Severity: Low   Confidence: High
   CWE: CWE-330 (https://cwe.mitre.org/data/definitions/330.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_calls.html#b311-random
   Location: packages/afo-core/julie_cpa/domain/transaction.py:27:22
26	        return Transaction(
27	            id=f"txn_{random.randint(1000, 9999)}",
28	            date=datetime.now(),

--------------------------------------------------
>> Issue: [B311:blacklist] Standard pseudo-random generators are not suitable for security/cryptographic purposes.
   Severity: Low   Confidence: High
   CWE: CWE-330 (https://cwe.mitre.org/data/definitions/330.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_calls.html#b311-random
   Location: packages/afo-core/julie_cpa/domain/transaction.py:29:19
28	            date=datetime.now(),
29	            amount=random.choice(amounts),
30	            merchant=random.choice(merchants),

--------------------------------------------------
>> Issue: [B311:blacklist] Standard pseudo-random generators are not suitable for security/cryptographic purposes.
   Severity: Low   Confidence: High
   CWE: CWE-330 (https://cwe.mitre.org/data/definitions/330.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_calls.html#b311-random
   Location: packages/afo-core/julie_cpa/domain/transaction.py:30:21
29	            amount=random.choice(amounts),
30	            merchant=random.choice(merchants),
31	        )

--------------------------------------------------
>> Issue: [B108:hardcoded_tmp_directory] Probable insecure usage of temp file/directory.
   Severity: Medium   Confidence: Medium
   CWE: CWE-377 (https://cwe.mitre.org/data/definitions/377.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b108_hardcoded_tmp_directory.html
   Location: packages/afo-core/legacy/experiments/langchain_advanced_retrievalqa.py:57:14
56	
57	    with open("/tmp/afo_docs.txt", "w") as f:
58	        f.write(sample_docs)

--------------------------------------------------
>> Issue: [B108:hardcoded_tmp_directory] Probable insecure usage of temp file/directory.
   Severity: Medium   Confidence: Medium
   CWE: CWE-377 (https://cwe.mitre.org/data/definitions/377.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b108_hardcoded_tmp_directory.html
   Location: packages/afo-core/legacy/experiments/langchain_advanced_retrievalqa.py:61:24
60	    print("1️⃣ 문서 로드 및 분할...")
61	    loader = TextLoader("/tmp/afo_docs.txt")
62	    docs = loader.load()

--------------------------------------------------
>> Issue: [B108:hardcoded_tmp_directory] Probable insecure usage of temp file/directory.
   Severity: Medium   Confidence: Medium
   CWE: CWE-377 (https://cwe.mitre.org/data/definitions/377.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b108_hardcoded_tmp_directory.html
   Location: packages/afo-core/legacy/experiments/retrievalqa_advanced_integration.py:52:14
51	
52	    with open("/tmp/sample_docs.txt", "w") as f:
53	        f.write(sample_docs)

--------------------------------------------------
>> Issue: [B108:hardcoded_tmp_directory] Probable insecure usage of temp file/directory.
   Severity: Medium   Confidence: Medium
   CWE: CWE-377 (https://cwe.mitre.org/data/definitions/377.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b108_hardcoded_tmp_directory.html
   Location: packages/afo-core/legacy/experiments/retrievalqa_advanced_integration.py:55:24
54	
55	    loader = TextLoader("/tmp/sample_docs.txt")
56	    docs = loader.load()

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/llm_router.py:166:20
165	                        return res if isinstance(res, str) else None
166	                    except Exception:
167	                        pass
168	                return getattr(settings, name, None) if settings else os.getenv(name)

--------------------------------------------------
>> Issue: [B404:blacklist] Consider possible security implications associated with the subprocess module.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_imports.html#b404-import-subprocess
   Location: packages/afo-core/llms/claude_cli.py:16:0
15	import logging
16	import subprocess
17	from typing import Any

--------------------------------------------------
>> Issue: [B603:subprocess_without_shell_equals_true] subprocess call - check for execution of untrusted input.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b603_subprocess_without_shell_equals_true.html
   Location: packages/afo-core/llms/claude_cli.py:40:21
39	        try:
40	            result = subprocess.run(
41	                [self.cli_path, "--version"], capture_output=True, text=True, timeout=10
42	            )
43	            if result.returncode == 0:

--------------------------------------------------
>> Issue: [B404:blacklist] Consider possible security implications associated with the subprocess module.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_imports.html#b404-import-subprocess
   Location: packages/afo-core/llms/codex_cli.py:15:0
14	import logging
15	import subprocess
16	from typing import Any

--------------------------------------------------
>> Issue: [B603:subprocess_without_shell_equals_true] subprocess call - check for execution of untrusted input.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b603_subprocess_without_shell_equals_true.html
   Location: packages/afo-core/llms/codex_cli.py:39:21
38	        try:
39	            result = subprocess.run(
40	                [self.cli_path, "--version"], capture_output=True, text=True, timeout=10
41	            )
42	            if result.returncode == 0:

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/llms/gemini_api.py:130:16
129	                    error_msg = error_json.get("error", {}).get("message", error_msg)
130	                except Exception:
131	                    pass
132	

--------------------------------------------------
>> Issue: [B324:hashlib] Use of weak MD5 hash for security. Consider usedforsecurity=False
   Severity: High   Confidence: High
   CWE: CWE-327 (https://cwe.mitre.org/data/definitions/327.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b324_hashlib.html
   Location: packages/afo-core/multimodal_rag_cache.py:53:17
52	    """Generate a cache key from prefix and query."""
53	    query_hash = hashlib.md5(query.encode()).hexdigest()[:12]
54	    return f"afo:cache:{prefix}:{query_hash}"

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/scholars/yeongdeok.py:519:4
518	            obj.close()
519	    except Exception:
520	        pass

--------------------------------------------------
>> Issue: [B404:blacklist] Consider possible security implications associated with the subprocess module.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_imports.html#b404-import-subprocess
   Location: packages/afo-core/scripts/admin/decrypt_chrome_cookies.py:11:0
10	import sqlite3
11	import subprocess
12	import sys

--------------------------------------------------
>> Issue: [B603:subprocess_without_shell_equals_true] subprocess call - check for execution of untrusted input.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b603_subprocess_without_shell_equals_true.html
   Location: packages/afo-core/scripts/admin/decrypt_chrome_cookies.py:34:19
33	        cmd = ["security", "find-generic-password", "-w", "-s", service]
34	        password = subprocess.check_output(cmd).strip()
35	        return password

--------------------------------------------------
>> Issue: [B303:blacklist] Use of insecure MD2, MD4, MD5, or SHA1 hash function.
   Severity: Medium   Confidence: High
   CWE: CWE-327 (https://cwe.mitre.org/data/definitions/327.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_calls.html#b303-md5
   Location: packages/afo-core/scripts/admin/decrypt_chrome_cookies.py:54:22
53	        kdf = PBKDF2HMAC(
54	            algorithm=hashes.SHA1(),
55	            length=length,

--------------------------------------------------
>> Issue: [B404:blacklist] Consider possible security implications associated with the subprocess module.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_imports.html#b404-import-subprocess
   Location: packages/afo-core/scripts/admin/extract_claude_force.py:5:0
4	import sqlite3
5	import subprocess
6	import sys

--------------------------------------------------
>> Issue: [B603:subprocess_without_shell_equals_true] subprocess call - check for execution of untrusted input.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b603_subprocess_without_shell_equals_true.html
   Location: packages/afo-core/scripts/admin/extract_claude_force.py:19:19
18	        cmd = ["security", "find-generic-password", "-w", "-s", "Chrome Safe Storage"]
19	        password = subprocess.check_output(cmd).strip()
20	        return password

--------------------------------------------------
>> Issue: [B303:blacklist] Use of insecure MD2, MD4, MD5, or SHA1 hash function.
   Severity: Medium   Confidence: High
   CWE: CWE-327 (https://cwe.mitre.org/data/definitions/327.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_calls.html#b303-md5
   Location: packages/afo-core/scripts/admin/extract_claude_force.py:50:26
49	            kdf = PBKDF2HMAC(
50	                algorithm=hashes.SHA1(),
51	                length=key_len,

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/scripts/admin/extract_claude_force.py:71:12
70	                    decrypted = decrypted[:-pad]
71	            except Exception:
72	                pass  # Ignore unpad errors in fuzzy mode
73	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/scripts/admin/extract_claude_force.py:95:8
94	                    return clean_val
95	        except Exception:
96	            # print(f"Combo {i} failed: {e}")
97	            pass
98	

--------------------------------------------------
>> Issue: [B404:blacklist] Consider possible security implications associated with the subprocess module.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_imports.html#b404-import-subprocess
   Location: packages/afo-core/scripts/admin/extract_openai_force.py:5:0
4	import sqlite3
5	import subprocess
6	import sys

--------------------------------------------------
>> Issue: [B603:subprocess_without_shell_equals_true] subprocess call - check for execution of untrusted input.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b603_subprocess_without_shell_equals_true.html
   Location: packages/afo-core/scripts/admin/extract_openai_force.py:21:19
20	        cmd = ["security", "find-generic-password", "-w", "-s", "Chrome Safe Storage"]
21	        password = subprocess.check_output(cmd).strip()
22	        return password

--------------------------------------------------
>> Issue: [B303:blacklist] Use of insecure MD2, MD4, MD5, or SHA1 hash function.
   Severity: Medium   Confidence: High
   CWE: CWE-327 (https://cwe.mitre.org/data/definitions/327.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_calls.html#b303-md5
   Location: packages/afo-core/scripts/admin/extract_openai_force.py:51:26
50	            kdf = PBKDF2HMAC(
51	                algorithm=hashes.SHA1(),
52	                length=key_len,

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/scripts/admin/extract_openai_force.py:82:8
81	                    return val
82	        except Exception:
83	            pass
84	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/scripts/admin/extract_openai_force.py:112:4
111	            print("🗑️ Deleted existing openai key")
112	    except Exception:
113	        pass
114	

--------------------------------------------------
>> Issue: [B404:blacklist] Consider possible security implications associated with the subprocess module.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_imports.html#b404-import-subprocess
   Location: packages/afo-core/scripts/beautiful_code_propagator.py:22:0
21	import re
22	import subprocess
23	import sys

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/scripts/grok_auto_connect.py:66:8
65	
66	        except Exception:
67	            # db lock or generic error
68	            # print(f"   (Skip {profile}: {e})")
69	            pass
70	

--------------------------------------------------
>> Issue: [B108:hardcoded_tmp_directory] Probable insecure usage of temp file/directory.
   Severity: Medium   Confidence: Medium
   CWE: CWE-377 (https://cwe.mitre.org/data/definitions/377.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b108_hardcoded_tmp_directory.html
   Location: packages/afo-core/scripts/grok_debug_cookies.py:28:20
27	        # Copy to temp to avoid lock
28	        temp_db = f"/tmp/cookies_{profile.replace(' ', '_')}.db"
29	        try:

--------------------------------------------------
>> Issue: [B404:blacklist] Consider possible security implications associated with the subprocess module.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_imports.html#b404-import-subprocess
   Location: packages/afo-core/scripts/grok_interactive.py:15:0
14	import shutil
15	import subprocess
16	import sys

--------------------------------------------------
>> Issue: [B108:hardcoded_tmp_directory] Probable insecure usage of temp file/directory.
   Severity: Medium   Confidence: Medium
   CWE: CWE-377 (https://cwe.mitre.org/data/definitions/377.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b108_hardcoded_tmp_directory.html
   Location: packages/afo-core/scripts/grok_interactive.py:23:16
22	CHROME_PATH = "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome"
23	USER_DATA_DIR = "/tmp/grok-stealth-profile"
24	

--------------------------------------------------
>> Issue: [B603:subprocess_without_shell_equals_true] subprocess call - check for execution of untrusted input.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b603_subprocess_without_shell_equals_true.html
   Location: packages/afo-core/scripts/grok_interactive.py:68:11
67	    # Launch detached
68	    proc = subprocess.Popen(cmd, stderr=subprocess.DEVNULL, stdout=subprocess.DEVNULL)
69	

--------------------------------------------------
>> Issue: [B404:blacklist] Consider possible security implications associated with the subprocess module.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_imports.html#b404-import-subprocess
   Location: packages/afo-core/scripts/perfect_check.py:4:0
3	#!/usr/bin/env python3
4	import subprocess
5	

--------------------------------------------------
>> Issue: [B607:start_process_with_partial_path] Starting a process with a partial executable path
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b607_start_process_with_partial_path.html
   Location: packages/afo-core/scripts/perfect_check.py:12:17
11	    try:
12	        result = subprocess.run(
13	            ["lsof", "-i", f":{port}"], capture_output=True, text=True
14	        )
15	        if result.stdout and "LISTEN" in result.stdout:

--------------------------------------------------
>> Issue: [B603:subprocess_without_shell_equals_true] subprocess call - check for execution of untrusted input.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b603_subprocess_without_shell_equals_true.html
   Location: packages/afo-core/scripts/perfect_check.py:12:17
11	    try:
12	        result = subprocess.run(
13	            ["lsof", "-i", f":{port}"], capture_output=True, text=True
14	        )
15	        if result.stdout and "LISTEN" in result.stdout:

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/scripts/perfect_check.py:37:12
36	                print(f"   Preview: {str(data)[:100]}...")
37	            except Exception:
38	                pass
39	            return True

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/scripts/rag/config.py:70:4
69	                return key
70	    except Exception:
71	        pass
72	

--------------------------------------------------
>> Issue: [B324:hashlib] Use of weak MD5 hash for security. Consider usedforsecurity=False
   Severity: High   Confidence: High
   CWE: CWE-327 (https://cwe.mitre.org/data/definitions/327.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b324_hashlib.html
   Location: packages/afo-core/scripts/rag/sync_obsidian_vault.py:61:23
60	            with open(file_path, "rb") as f:
61	                return hashlib.md5(f.read()).hexdigest()
62	        except Exception:

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/scripts/skill_verify_full_stack.py:20:4
19	                return json.loads(response.read().decode("utf-8"))
20	    except Exception:
21	        pass
22	    return {}

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/scripts/skill_verify_full_stack.py:44:4
43	        return "\n".join(output[:lines])
44	    except Exception:
45	        pass
46	    return ""

--------------------------------------------------
>> Issue: [B404:blacklist] Consider possible security implications associated with the subprocess module.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_imports.html#b404-import-subprocess
   Location: packages/afo-core/services/antigravity/reporting/reports.py:146:12
145	        try:
146	            import subprocess
147	            import sys

--------------------------------------------------
>> Issue: [B603:subprocess_without_shell_equals_true] subprocess call - check for execution of untrusted input.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b603_subprocess_without_shell_equals_true.html
   Location: packages/afo-core/services/antigravity/reporting/reports.py:163:25
162	            if script_path.exists():
163	                result = subprocess.run(
164	                    [sys.executable, str(script_path), temp_report],
165	                    capture_output=True,
166	                    text=True,
167	                    timeout=5,
168	                )
169	                return result.returncode == 0

--------------------------------------------------
>> Issue: [B404:blacklist] Consider possible security implications associated with the subprocess module.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_imports.html#b404-import-subprocess
   Location: packages/afo-core/services/antigravity_engine.py:678:12
677	        try:
678	            import subprocess
679	            import sys

--------------------------------------------------
>> Issue: [B603:subprocess_without_shell_equals_true] subprocess call - check for execution of untrusted input.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b603_subprocess_without_shell_equals_true.html
   Location: packages/afo-core/services/antigravity_engine.py:692:25
691	            if script_path.exists():
692	                result = subprocess.run(
693	                    [sys.executable, str(script_path), temp_report],
694	                    capture_output=True,
695	                    text=True,
696	                    timeout=5,
697	                )
698	                if result.returncode != 0:

--------------------------------------------------
>> Issue: [B404:blacklist] Consider possible security implications associated with the subprocess module.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_imports.html#b404-import-subprocess
   Location: packages/afo-core/services/mcp_stdio_client.py:6:0
5	import re
6	import subprocess
7	import threading

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/services/mcp_stdio_client.py:111:12
110	        def _read() -> None:
111	            assert proc.stdout is not None
112	            line_holder.append(proc.stdout.readline())

--------------------------------------------------
>> Issue: [B603:subprocess_without_shell_equals_true] subprocess call - check for execution of untrusted input.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b603_subprocess_without_shell_equals_true.html
   Location: packages/afo-core/services/mcp_stdio_client.py:148:11
147	
148	    proc = subprocess.Popen(
149	        [cfg.command, *cfg.args],
150	        stdin=subprocess.PIPE,
151	        stdout=subprocess.PIPE,
152	        stderr=subprocess.PIPE,
153	        text=True,
154	        env=env,
155	        bufsize=1,
156	    )
157	    assert proc.stdin is not None

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/services/mcp_stdio_client.py:157:4
156	    )
157	    assert proc.stdin is not None
158	    assert proc.stdout is not None

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/services/mcp_stdio_client.py:158:4
157	    assert proc.stdin is not None
158	    assert proc.stdout is not None
159	    assert proc.stderr is not None

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/services/mcp_stdio_client.py:159:4
158	    assert proc.stdout is not None
159	    assert proc.stderr is not None
160	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/services/mcp_stdio_client.py:162:8
161	    def _drain_stderr() -> None:
162	        assert proc.stderr is not None
163	        for line in proc.stderr:

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/strategy_engine.py:37:8
36	                self.history = self.history[-self.max_turns * 2 :]
37	        except Exception:
38	            # Silent failure for memory, or fallback logging
39	            pass
40	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/strategy_engine.py:65:8
64	            self.state = {}
65	        except Exception:
66	            pass
67	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/strategy_engine.py:104:8
103	                    return step
104	        except Exception:
105	            pass
106	        return None

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/strategy_engine.py:116:8
115	                    break
116	        except Exception:
117	            pass
118	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/strategy_engine.py:132:8
131	            self.status = "idle"
132	        except Exception:
133	            pass
134	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_chat.py:33:8
32	        # 200 (성공) 또는 422 (검증 오류) 또는 500/503 (백엔드 문제)
33	        assert response.status_code in [200, 422, 500, 503]
34	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_chat.py:40:12
39	            data = response.json()
40	            assert "response" in data or "error" in data
41	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_chat.py:45:8
44	        response = client.get("/api/chat/providers")
45	        assert response.status_code in [200, 404]
46	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_chat.py:50:8
49	        response = client.get("/api/chat/stats")
50	        assert response.status_code in [200, 404]
51	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_chat.py:55:8
54	        response = client.get("/api/chat/health")
55	        assert response.status_code in [200, 404]
56	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_chat.py:73:8
72	
73	        assert "provider" in routing_info
74	        assert "model" in routing_info

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_chat.py:74:8
73	        assert "provider" in routing_info
74	        assert "model" in routing_info
75	        assert routing_info["estimated_cost"] >= 0

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_chat.py:75:8
74	        assert "model" in routing_info
75	        assert routing_info["estimated_cost"] >= 0
76	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_chat.py:80:8
79	        priority = ["ollama", "gemini", "claude", "openai"]
80	        assert priority[0] == "ollama"  # 로컬 우선
81	        assert len(priority) == 4

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_chat.py:81:8
80	        assert priority[0] == "ollama"  # 로컬 우선
81	        assert len(priority) == 4
82	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_chat.py:90:8
89	        available = [p for p in providers if p not in failed]
90	        assert available[0] == "gemini"
91	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_chat.py:115:8
114	        # 빈 메시지는 422 또는 처리됨
115	        assert response.status_code in [200, 422, 500]
116	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_chat.py:120:8
119	        response = client.post("/api/chat/message", json={})
120	        assert response.status_code == 422
121	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_chat.py:126:8
125	        response = client.post("/api/chat/message", json={"message": long_message})
126	        assert response.status_code in [200, 422, 500, 503]

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_health.py:35:8
34	        response = client.get("/health")
35	        assert response.status_code == 200
36	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_health.py:41:8
40	        data = response.json()
41	        assert "status" in data
42	        assert data["status"] in ["balanced", "unbalanced", "warning", "imbalanced"]

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_health.py:42:8
41	        assert "status" in data
42	        assert data["status"] in ["balanced", "unbalanced", "warning", "imbalanced"]
43	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_health.py:48:8
47	        data = response.json()
48	        assert "trinity" in data
49	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_health.py:56:12
55	        if "trinity_score" in trinity:
56	            assert 0 <= trinity["trinity_score"] <= 1
57	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_health.py:63:12
62	        if "health_percentage" in data:
63	            assert 0 <= data["health_percentage"] <= 100
64	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_health.py:69:8
68	        data = response.json()
69	        assert "organs" in data
70	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_health.py:76:12
75	        if "decision" in data:
76	            assert data["decision"] in ["AUTO_RUN", "ASK", "TRY_AGAIN"]
77	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_health.py:100:8
99	        response = client.get("/")
100	        assert response.status_code == 200
101	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_health.py:106:8
105	        data = response.json()
106	        assert "version" in data or "api_version" in data or "message" in data

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_pillars.py:32:8
31	        response = client.get("/api/5pillars/current")
32	        assert response.status_code == 200
33	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_pillars.py:55:8
54	        has_field = any(field in str(data) for field in possible_fields)
55	        assert has_field or "error" not in data
56	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_pillars.py:61:8
60	        # 200 or 422 (validation) or 500 (backend not ready)
61	        assert response.status_code in [200, 422, 500]
62	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_pillars.py:66:8
65	        response = client.get("/api/5pillars/family/hub")
66	        assert response.status_code == 200
67	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_pillars.py:73:8
72	        # 응답이 dict 또는 list여야 함
73	        assert isinstance(data, (dict, list))
74	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_pillars.py:95:8
94	
95	        assert score == pytest.approx(1.0)
96	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_pillars.py:100:8
99	        weights = [0.35, 0.35, 0.20, 0.08, 0.02]
100	        assert sum(weights) == pytest.approx(1.0)
101	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_pillars.py:106:8
105	        score = 0.35 * 0.5 + 0.35 * 0.5 + 0.20 * 0.5 + 0.08 * 0.5 + 0.02 * 0.5
106	        assert score == pytest.approx(0.5)
107	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_pillars.py:116:8
115	        # 균형 잡힌 상태: delta < 0.3
116	        assert delta < 0.3

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_skills.py:37:8
36	        # Route might not exist or return 404 if router not loaded
37	        assert response.status_code in [200, 404, 500]
38	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_skills.py:44:8
43	        )
44	        assert response.status_code in [200, 404, 405, 422, 500]
45	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_skills.py:49:8
48	        response = client.get("/api/skills/health_check")
49	        assert response.status_code in [200, 404, 500]
50	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_skills.py:60:12
59	
60	            assert router is not None
61	        except ImportError:

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_system_health.py:47:12
46	            # If router not registered, 404. If registered, 200.
47	            assert response.status_code in [200, 404, 500]
48	            if response.status_code == 200:

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_system_health.py:50:16
49	                data = response.json()
50	                assert "memory_percent" in data
51	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_system_health.py:57:12
56	
57	            assert router is not None
58	        except ImportError:

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_system_health.py:74:16
73	            with client.stream("GET", "/api/system/logs") as response:
74	                assert response.status_code in [200, 404]
75	        except Exception:

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/tests/api/test_api_system_health.py:75:8
74	                assert response.status_code in [200, 404]
75	        except Exception:
76	            # Might fail if stream not supported in mock client fully
77	            pass

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_wallet_routes.py:41:12
40	            response = client.get("/api/wallet/keys")
41	            assert response.status_code in [200, 404, 500]
42	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_wallet_routes.py:53:8
52	        )
53	        assert response.status_code == 422
54	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_wallet_routes.py:66:8
65	        response = client.get("/api/wallet/bridge/status")
66	        assert response.status_code in [200, 404, 500]
67	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_api_wallet_routes.py:79:8
78	        response = client.get("/api/wallet/billing/summary")
79	        assert response.status_code in [200, 404, 500]

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_wallet_routers_comprehensive.py:41:8
40	        response = client.get("/keys")
41	        assert response.status_code == 200
42	        assert len(response.json()) == 1

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_wallet_routers_comprehensive.py:42:8
41	        assert response.status_code == 200
42	        assert len(response.json()) == 1
43	        assert response.json()[0]["name"] == "test_key"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_wallet_routers_comprehensive.py:43:8
42	        assert len(response.json()) == 1
43	        assert response.json()[0]["name"] == "test_key"
44	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_wallet_routers_comprehensive.py:60:8
59	        )
60	        assert response.status_code == 200
61	        assert response.json()["id"] == "new_id"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_wallet_routers_comprehensive.py:61:8
60	        assert response.status_code == 200
61	        assert response.json()["id"] == "new_id"
62	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_wallet_routers_comprehensive.py:75:8
74	        response = client.post("/keys", json={"name": "existing", "key": "sk-..."})
75	        assert response.status_code == 400
76	        assert "already exists" in response.json()["detail"]

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_wallet_routers_comprehensive.py:76:8
75	        assert response.status_code == 400
76	        assert "already exists" in response.json()["detail"]
77	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_wallet_routers_comprehensive.py:90:8
89	        response = client.delete("/keys/del_k")
90	        assert response.status_code == 200
91	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_wallet_routers_comprehensive.py:104:8
103	        response = client.delete("/keys/missing")
104	        assert response.status_code == 404
105	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_wallet_routers_comprehensive.py:114:8
113	        response = client.get("/api/wallet/billing/usage/openai")
114	        assert response.status_code == 200
115	        assert response.json()["api_id"] == "openai"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_wallet_routers_comprehensive.py:115:8
114	        assert response.status_code == 200
115	        assert response.json()["api_id"] == "openai"
116	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_wallet_routers_comprehensive.py:162:8
161	        response = client.get("/api/wallet/billing/summary")
162	        assert response.status_code == 200
163	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_wallet_routers_comprehensive.py:181:8
180	        )
181	        assert response.status_code == 200
182	        assert "session_0000" in response.json()["key_name"]

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_wallet_routers_comprehensive.py:182:8
181	        assert response.status_code == 200
182	        assert "session_0000" in response.json()["key_name"]
183	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_wallet_routers_comprehensive.py:189:12
188	            response = client.get("/browser/extraction-script")
189	            assert response.json()["script"] == "console.log('hi')"
190	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_wallet_routers_comprehensive.py:195:8
194	        response = client.get("/browser/extraction-script")
195	        assert "not found" in response.json()["script"]
196	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_wallet_routers_comprehensive.py:204:8
203	        response = client.get("/api/wallet/session/sess_123")
204	        assert response.status_code == 200
205	        assert response.json()["session_id"] == "sess_123"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_wallet_routers_comprehensive.py:205:8
204	        assert response.status_code == 200
205	        assert response.json()["session_id"] == "sess_123"
206	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_wallet_routers_comprehensive.py:212:4
211	    )
212	    assert response.status_code == 400
213	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_wallet_routers_comprehensive.py:224:8
223	        )
224	        assert response.status_code == 200
225	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_wallet_routers_comprehensive.py:230:8
229	        response = client.get("/api/wallet/setup/status")
230	        assert response.status_code == 200
231	        assert response.json()["status"] == "operational"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/api/test_wallet_routers_comprehensive.py:231:8
230	        assert response.status_code == 200
231	        assert response.json()["status"] == "operational"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_apis.py:14:8
13	        model = "claude-3-sonnet-20240229"
14	        assert "claude" in model
15	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_apis.py:19:8
18	        max_tokens = 4096
19	        assert max_tokens > 0
20	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_apis.py:24:8
23	        key_prefix = "sk-ant-"
24	        assert key_prefix.startswith("sk-ant")
25	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_apis.py:29:8
28	        temperature = 0.7
29	        assert 0 <= temperature <= 2
30	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_apis.py:38:8
37	        model = "gemini-1.5-flash"
38	        assert "gemini" in model
39	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_apis.py:43:8
42	        env_vars = ["GEMINI_API_KEY", "GOOGLE_API_KEY"]
43	        assert len(env_vars) >= 1
44	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_apis.py:51:8
50	        }
51	        assert "harassment" in settings
52	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_apis.py:60:8
59	        model = "gpt-4o-mini"
60	        assert "gpt" in model
61	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_apis.py:65:8
64	        key_prefix = "sk-"
65	        assert key_prefix == "sk-"
66	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_apis.py:70:8
69	        base_url = "https://api.openai.com/v1"
70	        assert "openai.com" in base_url
71	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_apis.py:75:8
74	        model = "text-embedding-ada-002"
75	        assert "embedding" in model
76	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_apis.py:84:8
83	        max_retries = 3
84	        assert max_retries >= 1
85	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_apis.py:89:8
88	        timeout = 30
89	        assert timeout > 0
90	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_apis.py:94:8
93	        stream_enabled = True
94	        assert stream_enabled is True
95	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_apis.py:99:8
98	        costs = {"ollama": 0.0, "gemini": 0.001, "claude": 0.008, "openai": 0.01}
99	        assert costs["ollama"] == 0.0
100	        assert all(c >= 0 for c in costs.values())

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_apis.py:100:8
99	        assert costs["ollama"] == 0.0
100	        assert all(c >= 0 for c in costs.values())

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_implementations.py:16:8
15	        wrapper = ClaudeAPIWrapper()
16	        assert wrapper.is_available()
17	        assert wrapper.api_key == "sk-ant-test"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_implementations.py:17:8
16	        assert wrapper.is_available()
17	        assert wrapper.api_key == "sk-ant-test"
18	        assert wrapper.available is True

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_implementations.py:18:8
17	        assert wrapper.api_key == "sk-ant-test"
18	        assert wrapper.available is True
19	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_implementations.py:47:8
46	        result = await wrapper.generate("hi")
47	        assert result["success"] is True
48	        assert result["content"] == "Hello Claude"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_implementations.py:48:8
47	        assert result["success"] is True
48	        assert result["content"] == "Hello Claude"
49	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_implementations.py:71:8
70	        result = await wrapper.generate("hi")
71	        assert result["success"] is True
72	        assert "Claude Session Active" in result["content"]

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_implementations.py:72:8
71	        assert result["success"] is True
72	        assert "Claude Session Active" in result["content"]
73	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_implementations.py:80:4
79	    cost = wrapper.get_cost_estimate(1000000)
80	    assert cost > 0
81	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_implementations.py:89:8
88	        wrapper = GeminiAPIWrapper()
89	        assert wrapper.is_available()
90	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_implementations.py:118:12
117	            result = await wrapper.generate("hi")
118	            assert result["success"] is True
119	            assert result["content"] == "Hello Gemini"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_implementations.py:119:12
118	            assert result["success"] is True
119	            assert result["content"] == "Hello Gemini"
120	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_implementations.py:128:8
127	        wrapper = OpenAIAPIWrapper()
128	        assert wrapper.is_available()
129	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_implementations.py:152:12
151	            result = await wrapper.generate("hi")
152	            assert result["success"] is True
153	            assert result["content"] == "Hello GPT"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_implementations.py:153:12
152	            assert result["success"] is True
153	            assert result["content"] == "Hello GPT"
154	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_implementations.py:189:12
188	
189	            assert result["success"] is True
190	            assert result["content"] == "Conversational reply"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_implementations.py:190:12
189	            assert result["success"] is True
190	            assert result["content"] == "Conversational reply"
191	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_implementations.py:219:12
218	            result = await wrapper.generate("fail")
219	            assert "error" in result
220	            assert "Invalid API Key" in result["error"]

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_implementations.py:220:12
219	            assert "error" in result
220	            assert "Invalid API Key" in result["error"]
221	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_implementations.py:243:8
242	        )
243	        assert result["success"] is True
244	        assert "Contextual Request Received" in result["content"]

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_implementations.py:244:8
243	        assert result["success"] is True
244	        assert "Contextual Request Received" in result["content"]
245	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_implementations.py:274:12
273	
274	            assert result["success"] is True
275	            assert result["content"] == "GPT Reply"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_implementations.py:275:12
274	            assert result["success"] is True
275	            assert result["content"] == "GPT Reply"
276	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_router.py:16:8
15	        providers = ["ollama", "gemini", "claude", "openai"]
16	        assert providers[0] == "ollama"
17	        assert providers[-1] == "openai"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_router.py:17:8
16	        assert providers[0] == "ollama"
17	        assert providers[-1] == "openai"
18	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_router.py:27:8
26	        }
27	        assert provider_costs["ollama"] == 0.0
28	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_router.py:37:8
36	        available = [p for p in providers if p not in failed]
37	        assert available[0] == "gemini"
38	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_router.py:42:8
41	        available = [p for p in providers if p not in failed]
42	        assert available[0] == "claude"
43	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_router.py:52:8
51	        cheapest = min(costs.items(), key=lambda x: x[1])[0]
52	        assert cheapest == "ollama"
53	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_router.py:62:8
61	        }
62	        assert "claude" in capabilities["coding"]
63	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_router.py:73:8
72	        # Ollama는 가장 짧은 컨텍스트
73	        assert context_limits["ollama"] < context_limits["gemini"]
74	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_router.py:87:8
86	        }
87	        assert response["success"] is True
88	        assert "response" in response

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_router.py:88:8
87	        assert response["success"] is True
88	        assert "response" in response
89	        assert response["routing"]["provider"] == "ollama"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_router.py:89:8
88	        assert "response" in response
89	        assert response["routing"]["provider"] == "ollama"
90	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_router.py:99:8
98	        }
99	        assert error_response["success"] is False
100	        assert error_response["error"] is not None

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_router.py:100:8
99	        assert error_response["success"] is False
100	        assert error_response["error"] is not None
101	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_router.py:105:8
104	        response = ""
105	        assert len(response) == 0
106	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_router.py:115:8
114	        parts = model.split(":")
115	        assert len(parts) == 2
116	        assert parts[0] == "llama3.2"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_router.py:116:8
115	        assert len(parts) == 2
116	        assert parts[0] == "llama3.2"
117	        assert parts[1] == "3b"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_router.py:117:8
116	        assert parts[0] == "llama3.2"
117	        assert parts[1] == "3b"
118	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_router.py:122:8
121	        url = "http://localhost:11434"
122	        assert url.startswith("http")
123	        assert "11434" in url

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_router.py:123:8
122	        assert url.startswith("http")
123	        assert "11434" in url
124	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/llm/test_llm_router.py:133:8
132	        }
133	        assert "/api/generate" in endpoints["generate"]

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_health.py:14:4
13	    response = client.get("/health")
14	    assert response.status_code == 200
15	    assert "status" in response.json()

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_health.py:15:4
14	    assert response.status_code == 200
15	    assert "status" in response.json()
16	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_health.py:21:4
20	    response = client.get("/api/system/health")
21	    assert response.status_code == 200
22	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_health.py:24:4
23	    data = response.json()
24	    assert "status" in data
25	    assert "timestamp" in data

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_health.py:25:4
24	    assert "status" in data
25	    assert "timestamp" in data
26	    assert "version" in data

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_health.py:26:4
25	    assert "timestamp" in data
26	    assert "version" in data
27	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_health.py:36:8
35	    for field in required_fields:
36	        assert field in data
37	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_health.py:38:4
37	
38	    assert data["status"] in ["balanced", "warning", "imbalanced", "unbalanced"]

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_server.py:31:8
30	        """API 메타데이터 테스트"""
31	        assert "AFO" in app.title
32	        assert "Soul Engine" in app.title

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_server.py:32:8
31	        assert "AFO" in app.title
32	        assert "Soul Engine" in app.title
33	        # Version check - actual version might change, just check structure

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_server.py:34:8
33	        # Version check - actual version might change, just check structure
34	        assert len(app.version.split(".")) >= 2
35	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_server.py:39:8
38	        # Ensure title and version are set (non-empty)
39	        assert app.title
40	        assert app.version

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_server.py:40:8
39	        assert app.title
40	        assert app.version
41	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_server.py:54:8
53	        # 200 or 503 (if services down) but route exists
54	        assert response.status_code in [200, 500, 503]
55	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_server.py:59:8
58	        response = client.get("/")
59	        assert response.status_code == 200
60	        data = response.json()

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_server.py:61:8
60	        data = response.json()
61	        assert "message" in data or "version" in data
62	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_server.py:66:8
65	        response = client.get("/", headers={"Origin": "http://localhost:3000"})
66	        assert "access-control-allow-origin" in response.headers
67	        assert response.headers["access-control-allow-origin"] in {

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_server.py:67:8
66	        assert "access-control-allow-origin" in response.headers
67	        assert response.headers["access-control-allow-origin"] in {
68	            "*",
69	            "http://localhost:3000",
70	        }
71	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_server.py:99:8
98	        # Explicitly check if the function object exists to satisfy MyPy
99	        assert callable(get_settings)
100	        settings = get_settings()

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_server.py:102:8
101	        # POSTGRES_HOST should exist in settings
102	        assert hasattr(settings, "POSTGRES_HOST")
103	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_server.py:113:8
112	        )
113	        assert current_dir in sys.path

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet.py:17:8
16	        key = "a" * 32
17	        assert len(key) == 32
18	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet.py:22:8
21	        path = "data/api_wallet.json"
22	        assert path.endswith(".json")
23	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet.py:27:8
26	        providers = ["openai", "anthropic", "gemini", "ollama"]
27	        assert "ollama" in providers
28	        assert len(providers) >= 4

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet.py:28:8
27	        assert "ollama" in providers
28	        assert len(providers) >= 4
29	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet.py:37:8
36	        key_name = "openai_api_key"
37	        assert "_" in key_name
38	        assert key_name.islower()

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet.py:38:8
37	        assert "_" in key_name
38	        assert key_name.islower()
39	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet.py:44:8
43	        masked = key[:4] + "****" + key[-4:]
44	        assert masked == "sk-1****cdef"
45	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet.py:52:8
51	        is_valid = expiry > datetime.now()
52	        assert is_valid is True
53	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet.py:61:8
60	        log_message = "API call with key=****"
61	        assert "sk-" not in log_message
62	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet.py:66:8
65	        encryption_enabled = True
66	        assert encryption_enabled is True
67	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet.py:71:8
70	        keys = {"primary": "key1", "secondary": "key2"}
71	        assert "primary" in keys
72	        assert "secondary" in keys

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet.py:72:8
71	        assert "primary" in keys
72	        assert "secondary" in keys
73	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet.py:82:8
81	        wallet["test_key"] = "value"
82	        assert "test_key" in wallet
83	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet.py:88:8
87	        del wallet["test_key"]
88	        assert "test_key" not in wallet
89	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet.py:94:8
93	        keys = list(wallet.keys())
94	        assert len(keys) == 2
95	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet.py:100:8
99	        openai_key = "sk-1234567890abcdefghijklmnopqrstuvwxyz"
100	        assert openai_key.startswith("sk-")
101	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet.py:109:8
108	        fallback_type = "json"
109	        assert fallback_type == "json"
110	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet.py:114:8
113	        env_key = os.environ.get("TEST_API_KEY", "default_value")
114	        assert env_key is not None
115	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet.py:119:8
118	        fallback_order = ["postgres", "json", "env"]
119	        assert fallback_order[0] == "postgres"
120	        assert fallback_order[-1] == "env"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet.py:120:8
119	        assert fallback_order[0] == "postgres"
120	        assert fallback_order[-1] == "env"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_advanced.py:25:12
24	            # It should try to get key from vault
25	            assert (
26	                wallet.encryption_key == "3qX4+P5+12345678901234567890123456789012345="
27	            )
28	            assert wallet.use_vault is True

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_advanced.py:28:12
27	            )
28	            assert wallet.use_vault is True
29	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_advanced.py:39:12
38	            wallet = APIWallet(use_vault=True)
39	            assert wallet.use_vault is False
40	            assert len(wallet.encryption_key) > 0

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_advanced.py:40:12
39	            assert wallet.use_vault is False
40	            assert len(wallet.encryption_key) > 0
41	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_advanced.py:68:8
67	
68	        assert api_wallet.CRYPTO_AVAILABLE is False
69	        assert api_wallet.Fernet.__name__ == "MockFernet"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_advanced.py:69:8
68	        assert api_wallet.CRYPTO_AVAILABLE is False
69	        assert api_wallet.Fernet.__name__ == "MockFernet"
70	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_advanced.py:80:8
79	        expected = base64.urlsafe_b64encode(b"test")
80	        assert enc == expected
81	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_advanced.py:83:8
82	        dec = wallet.cipher.decrypt(enc)
83	        assert dec == b"test"
84	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_advanced.py:159:4
158	    )
159	    assert key_id == 10

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_cli.py:11:8
10	        # Verify cli function object
11	        assert hasattr(cli, "__globals__")
12	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_cli.py:82:12
81	                cli()
82	            assert e.value.code == 1

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_db_mock.py:32:12
31	            wallet = APIWallet(db_connection=conn, use_vault=False)
32	            assert wallet.use_db is True
33	            assert wallet.db is conn

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_db_mock.py:33:12
32	            assert wallet.use_db is True
33	            assert wallet.db is conn
34	            assert conn.cursor.called

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_db_mock.py:34:12
33	            assert wallet.db is conn
34	            assert conn.cursor.called
35	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_db_mock.py:49:12
48	
49	            assert key_id == 123
50	            cursor.execute.assert_called()

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_db_mock.py:51:12
50	            cursor.execute.assert_called()
51	            assert "INSERT INTO api_keys" in cursor.execute.call_args[0][0]
52	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_db_mock.py:77:12
76	            k = wallet.get("k")
77	            assert k == "decrypted_key"
78	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_db_mock.py:109:12
108	            keys = wallet.list_keys()
109	            assert len(keys) == 2
110	            assert keys[0]["name"] == "k1"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_db_mock.py:110:12
109	            assert len(keys) == 2
110	            assert keys[0]["name"] == "k1"
111	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_db_mock.py:120:12
119	            wallet = APIWallet(db_connection=conn, use_vault=False)
120	            assert wallet.delete("k") is True
121	            assert "DELETE FROM" in cursor.execute.call_args[0][0]

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_db_mock.py:121:12
120	            assert wallet.delete("k") is True
121	            assert "DELETE FROM" in cursor.execute.call_args[0][0]
122	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_db_mock.py:142:12
141	            # But here we assume success.
142	            assert "UPDATE api_keys" in cursor.execute.call_args[0][0]
143	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_imports.py:31:12
30	            wallet = APIWallet(use_vault=True)
31	            assert wallet.encryption_key is not None
32	            assert len(wallet.encryption_key) > 0

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_imports.py:32:12
31	            assert wallet.encryption_key is not None
32	            assert len(wallet.encryption_key) > 0
33	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_imports.py:44:8
43	        dec = mock_fernet.decrypt(enc)
44	        assert dec == b"test"
45	    else:

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_vault_fallback.py:19:8
18	        wallet = APIWallet(use_vault=True)
19	        assert wallet.use_vault is False
20	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_vault_fallback.py:32:12
31	            # Should have some encryption key from fallback
32	            assert wallet.encryption_key is not None
33	            assert len(wallet.encryption_key) > 0

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_vault_fallback.py:33:12
32	            assert wallet.encryption_key is not None
33	            assert len(wallet.encryption_key) > 0
34	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_api_wallet_vault_fallback.py:46:12
45	            wallet = APIWallet(use_vault=True)
46	            assert wallet.encryption_key is not None

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_audit_persistence.py:42:4
41	
42	    assert record["query"] == query
43	    assert record["trinity_score"] == trinity_score

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_audit_persistence.py:43:4
42	    assert record["query"] == query
43	    assert record["trinity_score"] == trinity_score
44	    assert record["status"] == status

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_audit_persistence.py:44:4
43	    assert record["trinity_score"] == trinity_score
44	    assert record["status"] == status
45	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_audit_persistence.py:58:4
57	
58	    assert found, "Record not found in AuditTrail PostgreSQL persistence"
59	    print("\n✅ Historian Persistence Verified!")

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_circuit_breaker.py:14:4
13	    response = client.get("/api/system/health")
14	    assert response.status_code == 200
15	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_circuit_breaker.py:17:4
16	    # Circuit breaker should allow requests in closed state
17	    assert response.status_code == 200
18	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_circuit_breaker.py:27:4
26	    # Circuit breaker should not interfere with normal operation
27	    assert response.status_code in [200, 503]  # 503 if circuit is open
28	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_circuit_breaker.py:44:4
43	    # Should have some successful responses
44	    assert 200 in responses or 503 in responses
45	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_circuit_breaker.py:49:4
48	    unique_responses = set(responses)
49	    assert len(unique_responses) >= 1  # At least one type of response
50	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_circuit_breaker.py:59:4
58	    # Should eventually recover or stay in acceptable state
59	    assert response.status_code in [200, 503]

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_crag.py:14:8
13	        grading_enabled = True
14	        assert grading_enabled is True
15	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_crag.py:19:8
18	        web_fallback = True
19	        assert web_fallback is True
20	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_crag.py:24:8
23	        threshold = 0.5
24	        assert 0 <= threshold <= 1
25	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_crag.py:34:8
33	        is_relevant = score >= 0.5
34	        assert is_relevant is True
35	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_crag.py:40:8
39	        is_relevant = score >= 0.5
40	        assert is_relevant is False
41	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_crag.py:46:8
45	        is_ambiguous = 0.4 <= score <= 0.6
46	        assert is_ambiguous is True
47	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_crag.py:55:8
54	        tavily_required = True
55	        assert tavily_required is True
56	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_crag.py:60:8
59	        query = "test query"
60	        assert len(query) > 0
61	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_crag.py:69:8
68	        answer = {"content": "테스트 답변", "sources": [], "web_searched": False}
69	        assert "content" in answer
70	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_crag.py:74:8
73	        sources = ["doc1.pdf", "doc2.pdf"]
74	        assert len(sources) == 2

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_goodness_serenity.py:27:8
26	        # safe_execute in error_handling.py returns RAW result
27	        assert result == 10
28	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_goodness_serenity.py:40:8
39	        result = failing_func()
40	        assert result is None
41	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_goodness_serenity.py:47:8
46	        wrapped = safe_execute(failing_func_2, default="fallback", log_error=False)
47	        assert wrapped() == "fallback"
48	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_goodness_serenity.py:53:8
52	        result = validate_input(api_key, "api_key", lambda k: k.startswith("sk-"))
53	        assert result == api_key
54	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_goodness_serenity.py:63:8
62	        value = require_not_none("test", "param")
63	        assert value == "test"
64	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_goodness_serenity.py:74:8
73	        result = log_and_return_error(error, "test_context")
74	        assert result["success"] is False
75	        assert result["error_code"] == "TEST_CODE"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_goodness_serenity.py:75:8
74	        assert result["success"] is False
75	        assert result["error_code"] == "TEST_CODE"
76	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_goodness_serenity.py:94:8
93	        result = flaky_func()
94	        assert result == "success"
95	        assert call_count == 3

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_goodness_serenity.py:95:8
94	        assert result == "success"
95	        assert call_count == 3
96	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_goodness_serenity.py:124:8
123	
124	        assert result1 == 10
125	        assert result2 == 10

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_goodness_serenity.py:125:8
124	        assert result1 == 10
125	        assert result2 == 10
126	        assert result3 == 20

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_goodness_serenity.py:126:8
125	        assert result2 == 10
126	        assert result3 == 20
127	        assert call_count == 2  # 5와 10 각각 한 번씩

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_goodness_serenity.py:127:8
126	        assert result3 == 20
127	        assert call_count == 2  # 5와 10 각각 한 번씩

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_hybrid_rag_advanced.py:19:4
18	    emb = get_embedding("test", mock_client)
19	    assert emb == [0.1, 0.2]
20	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_hybrid_rag_advanced.py:28:4
27	    emb = get_embedding("test", mock_client)
28	    assert len(emb) == 1536  # Returns random embedding on failure
29	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_hybrid_rag_advanced.py:34:4
33	    emb: list[float] = get_embedding("test", None)
34	    assert len(emb) == 1536
35	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_hybrid_rag_advanced.py:60:4
59	
60	    assert len(results) == 2
61	    assert results[0]["id"] == "1"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_hybrid_rag_advanced.py:61:4
60	    assert len(results) == 2
61	    assert results[0]["id"] == "1"
62	    assert results[0]["score"] > 0.99

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_hybrid_rag_advanced.py:62:4
61	    assert results[0]["id"] == "1"
62	    assert results[0]["score"] > 0.99
63	    assert results[1]["id"] == "2"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_hybrid_rag_advanced.py:63:4
62	    assert results[0]["score"] > 0.99
63	    assert results[1]["id"] == "2"
64	    assert results[1]["score"] < 0.01

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_hybrid_rag_advanced.py:64:4
63	    assert results[1]["id"] == "2"
64	    assert results[1]["score"] < 0.01
65	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_hybrid_rag_advanced.py:76:4
75	    results: list[dict[str, Any]] = query_pgvector([0.1], 5, mock_pool)
76	    assert results == []
77	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_hybrid_rag_advanced.py:106:4
105	
106	    assert len(results) == 1
107	    assert results[0]["id"] == "doc1"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_hybrid_rag_advanced.py:107:4
106	    assert len(results) == 1
107	    assert results[0]["id"] == "doc1"
108	    assert results[0]["score"] == 0.9

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_hybrid_rag_advanced.py:108:4
107	    assert results[0]["id"] == "doc1"
108	    assert results[0]["score"] == 0.9
109	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_hybrid_rag_advanced.py:116:4
115	    results: list[dict[str, Any]] = query_redis([0.1], 5, mock_client)
116	    assert results == []
117	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_hybrid_rag_advanced.py:135:4
134	
135	    assert len(merged) == 2
136	    assert merged[0]["id"] == "1"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_hybrid_rag_advanced.py:136:4
135	    assert len(merged) == 2
136	    assert merged[0]["id"] == "1"
137	    assert merged[0]["score"] == 0.6

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_hybrid_rag_advanced.py:137:4
136	    assert merged[0]["id"] == "1"
137	    assert merged[0]["score"] == 0.6
138	    assert merged[1]["id"] == "2"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_hybrid_rag_advanced.py:138:4
137	    assert merged[0]["score"] == 0.6
138	    assert merged[1]["id"] == "2"
139	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_hybrid_rag_advanced.py:149:4
148	
149	    assert len(selected) == 1
150	    assert selected[0]["content"] == "short"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_hybrid_rag_advanced.py:150:4
149	    assert len(selected) == 1
150	    assert selected[0]["content"] == "short"
151	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_hybrid_rag_advanced.py:164:4
163	    )
164	    assert ans == "Answer"
165	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_hybrid_rag_advanced.py:172:4
171	    )
172	    assert ans == "No LLM client available."
173	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_hybrid_rag_advanced.py:183:4
182	    emb: list[float] = await get_embedding_async("test", mock_client)
183	    assert emb == [0.1]
184	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_hybrid_rag_advanced.py:191:4
190	    res: list[dict[str, Any]] = await query_pgvector_async([0.1], 5, pool)
191	    assert res == []

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:32:4
31	
32	    assert len(parsed) == 4
33	    # Check key mappings

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:34:4
33	    # Check key mappings
34	    assert parsed[0] == ("OPENAI_API_KEY", "sk-1234", "openai")
35	    assert parsed[1] == ("ANTHROPIC_API_KEY", "sk-ant-5678", "anthropic")

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:35:4
34	    assert parsed[0] == ("OPENAI_API_KEY", "sk-1234", "openai")
35	    assert parsed[1] == ("ANTHROPIC_API_KEY", "sk-ant-5678", "anthropic")
36	    assert parsed[2] == ("GITHUB_TOKEN", "ghp_abcd", "github")

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:36:4
35	    assert parsed[1] == ("ANTHROPIC_API_KEY", "sk-ant-5678", "anthropic")
36	    assert parsed[2] == ("GITHUB_TOKEN", "ghp_abcd", "github")
37	    assert parsed[3] == ("N8N_URL", "https://n8n.com", "n8n")

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:37:4
36	    assert parsed[2] == ("GITHUB_TOKEN", "ghp_abcd", "github")
37	    assert parsed[3] == ("N8N_URL", "https://n8n.com", "n8n")
38	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:43:4
42	    parsed = parse_env_text(text)
43	    assert parsed[0][1] == "value_a"
44	    assert parsed[1][1] == "value_b"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:44:4
43	    assert parsed[0][1] == "value_a"
44	    assert parsed[1][1] == "value_b"
45	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:50:4
49	    response = client.get("/health")
50	    assert response.status_code == 200
51	    assert response.json() == {

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:51:4
50	    assert response.status_code == 200
51	    assert response.json() == {
52	        "status": "healthy",
53	        "service": "AFO Input Server",
54	        "organ": "胃 (Stomach)",
55	    }
56	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:62:4
61	    response = client.get("/")
62	    assert response.status_code == 200
63	    assert "AFO Input Server" in response.text

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:63:4
62	    assert response.status_code == 200
63	    assert "AFO Input Server" in response.text
64	    assert "text/html" in response.headers["content-type"]

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:64:4
63	    assert "AFO Input Server" in response.text
64	    assert "text/html" in response.headers["content-type"]
65	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:82:4
81	    response = client.get("/")
82	    assert response.status_code == 200
83	    assert "test_key" in response.text

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:83:4
82	    assert response.status_code == 200
83	    assert "test_key" in response.text
84	    assert "openai" in response.text

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:84:4
83	    assert "test_key" in response.text
84	    assert "openai" in response.text
85	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:103:4
102	    )
103	    assert response.status_code == 200
104	    # Capture print output or verify db call

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:105:4
104	    # Capture print output or verify db call
105	    assert mock_storage.save_input_to_db.called
106	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:117:4
116	    )
117	    assert response.status_code == 200
118	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:128:8
127	        response = client.get("/api/status")
128	        assert response.status_code == 200
129	        data = response.json()

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:130:8
129	        data = response.json()
130	        assert data["api_wallet_connected"] is True
131	        assert data["postgres_connected"] is True

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:131:8
130	        assert data["api_wallet_connected"] is True
131	        assert data["postgres_connected"] is True
132	        assert data["input_statistics"] == {"count": 10}

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:132:8
131	        assert data["postgres_connected"] is True
132	        assert data["input_statistics"] == {"count": 10}
133	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:148:4
147	
148	    assert response.status_code == 200
149	    assert mock_wallet_instance.add.call_count == 1  # Only one added

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:149:4
148	    assert response.status_code == 200
149	    assert mock_wallet_instance.add.call_count == 1  # Only one added
150	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:157:4
156	    )  # Space is not empty param
157	    assert (
158	        response.status_code == 200
159	    )  # Redirects with error "파싱된 환경 변수가 없습니다"
160	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:166:8
165	        response = client.get("/api/history")
166	        assert response.status_code == 200
167	        assert response.json()["count"] == 1

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:167:8
166	        assert response.status_code == 200
167	        assert response.json()["count"] == 1
168	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server.py:173:8
172	        response = client.get("/api/history")
173	        assert response.status_code == 503

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server_advanced.py:108:12
107	            # The input_server returns RedirectResponse(303)
108	            assert (
109	                response.status_code == 303
110	            ), f"Response was {response.status_code}: {response.text}"
111	            assert "success" in response.headers["location"]

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server_advanced.py:111:12
110	            ), f"Response was {response.status_code}: {response.text}"
111	            assert "success" in response.headers["location"]
112	            # Verify URL encoding logic implicitly by checking substring

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server_advanced.py:114:12
113	            # "1개 저장 성공" might be percent encoded
114	            assert (
115	                "saved" in response.headers["location"]
116	                or "success" in response.headers["location"]
117	            )
118	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server_advanced.py:122:12
121	            # mock_client.get.assert_any_call(".../health") # URL might differ
122	            assert mock_client.get.call_count >= 1  # Health + Check
123	            assert mock_client.post.call_count == 1

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_input_server_advanced.py:123:12
122	            assert mock_client.get.call_count >= 1  # Health + Check
123	            assert mock_client.post.call_count == 1

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_api_endpoints.py:44:8
43	        response = api_client.get("/")
44	        assert response.status_code == 200
45	        data = response.json()

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_api_endpoints.py:46:8
45	        data = response.json()
46	        assert "name" in data
47	        assert "version" in data

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_api_endpoints.py:47:8
46	        assert "name" in data
47	        assert "version" in data
48	        assert data["name"] == "AFO Kingdom Soul Engine API"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_api_endpoints.py:48:8
47	        assert "version" in data
48	        assert data["name"] == "AFO Kingdom Soul Engine API"
49	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_api_endpoints.py:53:8
52	        response = api_client.get("/api/health/comprehensive")
53	        assert response.status_code == 200
54	        data = response.json()

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_api_endpoints.py:55:8
54	        data = response.json()
55	        assert isinstance(data, dict)
56	        # 최소한 status 또는 trinity 정보가 있어야 함

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_api_endpoints.py:57:8
56	        # 최소한 status 또는 trinity 정보가 있어야 함
57	        assert "status" in data or "trinity" in data or "organs" in data
58	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_api_endpoints.py:67:8
66	        # 200 또는 404 가능 (서비스 상태에 따라)
67	        assert response.status_code in [200, 404, 500]
68	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_api_endpoints.py:71:12
70	            data = response.json()
71	            assert isinstance(data, (dict, list))
72	            if isinstance(data, dict):

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_api_endpoints.py:73:16
72	            if isinstance(data, dict):
73	                assert (
74	                    "skills" in data
75	                    or "items" in data
76	                    or isinstance(data.get("data"), list)
77	                )
78	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_api_endpoints.py:87:8
86	        # 200 또는 404 가능 (서비스 상태에 따라)
87	        assert response.status_code in [200, 404, 500]
88	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_api_endpoints.py:91:12
90	            data = response.json()
91	            assert isinstance(data, dict)
92	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_api_endpoints.py:101:8
100	        # 200 또는 404 가능 (서비스 상태에 따라)
101	        assert response.status_code in [200, 404, 500]
102	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_api_endpoints.py:105:12
104	            data = response.json()
105	            assert isinstance(data, dict)
106	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_services.py:35:8
34	        service = SkillsService()
35	        assert service is not None
36	        assert service.skill_registry is not None

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_services.py:36:8
35	        assert service is not None
36	        assert service.skill_registry is not None
37	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_services.py:54:8
53	
54	        assert isinstance(skills, list)
55	        # 스킬이 없을 수도 있으므로 길이 체크는 제거

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_services.py:78:16
77	                cached = await service.get(key)
78	                assert cached is not None
79	                assert cached.get("test") == "data"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_services.py:79:16
78	                assert cached is not None
79	                assert cached.get("test") == "data"
80	                assert cached.get("trinity") == 98.2

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_services.py:80:16
79	                assert cached.get("test") == "data"
80	                assert cached.get("trinity") == 98.2
81	        except ImportError:

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_services.py:94:12
93	
94	            assert isinstance(health, dict)
95	            assert "service" in health

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_services.py:95:12
94	            assert isinstance(health, dict)
95	            assert "service" in health
96	            assert health["service"] == "redis_cache"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_services.py:96:12
95	            assert "service" in health
96	            assert health["service"] == "redis_cache"
97	        except ImportError:

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_services.py:111:8
110	
111	        assert isinstance(health, dict)
112	        assert "status" in health or "trinity" in health

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_services.py:112:8
111	        assert isinstance(health, dict)
112	        assert "status" in health or "trinity" in health
113	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_services.py:131:8
130	
131	        assert isinstance(score, float)
132	        assert 0.0 <= score <= 100.0  # 0-100 범위

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_services.py:132:8
131	        assert isinstance(score, float)
132	        assert 0.0 <= score <= 100.0  # 0-100 범위
133	        assert score > 90.0  # 높은 점수 기대

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_integration_services.py:133:8
132	        assert 0.0 <= score <= 100.0  # 0-100 범위
133	        assert score > 90.0  # 높은 점수 기대
134	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_kms_advanced.py:16:12
15	            kms = VaultKMS()
16	            assert kms.client is None
17	            assert kms.is_available() is False

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_kms_advanced.py:17:12
16	            assert kms.client is None
17	            assert kms.is_available() is False
18	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_kms_advanced.py:31:8
30	        kms = VaultKMS()
31	        assert kms.client is mock_client
32	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_kms_advanced.py:38:4
37	    kms.client.is_authenticated.return_value = True
38	    assert kms.is_available() is True
39	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_kms_advanced.py:45:4
44	    kms.client.is_authenticated.side_effect = Exception("Auth fail")
45	    assert kms.is_available() is False
46	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_kms_advanced.py:60:4
59	
60	    assert kms.get_encryption_key() == "secret_key"
61	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_kms_advanced.py:66:4
65	    # No client
66	    assert kms.get_encryption_key() is None
67	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_kms_advanced.py:75:4
74	
75	    assert kms.get_encryption_key() is None
76	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_kms_advanced.py:83:4
82	
83	    assert kms.set_encryption_key("new_key") is True
84	    kms.client.secrets.kv.v2.create_or_update_secret.assert_called_once()

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_kms_advanced.py:95:4
94	
95	    assert kms.set_encryption_key("new_key") is False

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_llm_router_advanced.py:24:4
23	    decision = router.route_request("hi", context={"provider": "openai"})
24	    assert decision.selected_provider == LLMProvider.OPENAI
25	    assert "명시적 요청" in decision.reasoning

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_llm_router_advanced.py:25:4
24	    assert decision.selected_provider == LLMProvider.OPENAI
25	    assert "명시적 요청" in decision.reasoning
26	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_llm_router_advanced.py:34:8
33	    with patch.object(router, "_is_ollama_available", return_value=True):
34	        assert decision.selected_provider == LLMProvider.OLLAMA
35	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_llm_router_advanced.py:43:8
42	        decision = router.route_request("simple query")
43	        assert decision.selected_provider == LLMProvider.OLLAMA
44	        assert decision.confidence == 0.9

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_llm_router_advanced.py:44:8
43	        assert decision.selected_provider == LLMProvider.OLLAMA
44	        assert decision.confidence == 0.9
45	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_llm_router_advanced.py:68:8
67	        )
68	        assert decision.selected_provider == LLMProvider.ANTHROPIC
69	        assert "ULTRA 품질 요구사항" in decision.reasoning

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_llm_router_advanced.py:69:8
68	        assert decision.selected_provider == LLMProvider.ANTHROPIC
69	        assert "ULTRA 품질 요구사항" in decision.reasoning
70	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_llm_router_advanced.py:90:8
89	        decision = router.route_request("fast query", context={"max_latency_ms": 500})
90	        assert decision.selected_provider == LLMProvider.OPENAI  # Lower latency matches
91	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_llm_router_advanced.py:115:8
114	        await router.execute_with_routing(unique_query, {"key": "value"})
115	        assert router._call_llm.call_count == 1
116	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_llm_router_advanced.py:119:8
118	        await router.execute_with_routing(unique_query, {"key": "value"})
119	        assert router._call_llm.call_count == 1  # Cached (Memory)
120	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_llm_router_advanced.py:123:8
122	        await router.execute_with_routing(unique_query, {"key": "other"})
123	        assert router._call_llm.call_count == 2
124	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_llm_router_advanced.py:164:16
163	
164	                assert response == "Success"
165	                # Verify it retried (called twice: first failure, second success)

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_llm_router_advanced.py:166:16
165	                # Verify it retried (called twice: first failure, second success)
166	                assert mock_gemini_api.generate.call_count == 2
167	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_llm_router_advanced.py:182:8
181	        response = await router._call_ollama("hi", config)
182	        assert response == "Ollama Response"
183	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_llm_router_advanced.py:208:12
207	            response = await router._call_llm(decision, "hi", None)
208	            assert response == "Claude Response"
209	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_llm_router_advanced.py:223:4
222	    result = await router._try_fallback(LLMProvider.OLLAMA, "query", None)
223	    assert result["success"] is True
224	    assert "ollama" in result["routing"]["provider"].lower()

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_llm_router_advanced.py:224:4
223	    assert result["success"] is True
224	    assert "ollama" in result["routing"]["provider"].lower()
225	    assert result["response"] == "Ollama Response"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_llm_router_advanced.py:225:4
224	    assert "ollama" in result["routing"]["provider"].lower()
225	    assert result["response"] == "Ollama Response"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_persona_service_integration.py:42:8
41	        new_current = await persona_service.get_current_persona()
42	        assert new_current["type"] == "learner", "페르소나 전환 실패"
43	        print(f"   ✅ 확인 완료: {new_current['name']} ({new_current['type']})\n")

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_persona_service_integration.py:103:12
102	            current = await persona_service.get_current_persona()
103	            assert current["type"] == persona_type, f"{persona_type} 전환 실패"
104	            print(f"   ✅ {result['current_persona']} 활성화 완료")

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_rate_limit.py:18:8
17	        response = client.get("/api/system/health")
18	        assert response.status_code == 200
19	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_rate_limit.py:24:4
23	    # This test validates the middleware is in place
24	    assert response.status_code in [200, 429]
25	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_rate_limit.py:41:4
40	    # Note: Headers presence depends on rate limit implementation
41	    assert True  # Basic test - middleware is loaded
42	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_rate_limit.py:49:4
48	    response = client.get("/api/system/health")
49	    assert response.status_code in [200, 429]
50	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_rate_limit.py:53:8
52	        data = response.json()
53	        assert "error" in data or "detail" in data

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_services.py:21:8
20	        conn_str = f"postgresql://{user}@{host}:{port}/{db}"
21	        assert "postgresql://" in conn_str
22	        assert str(port) in conn_str

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_services.py:22:8
21	        assert "postgresql://" in conn_str
22	        assert str(port) in conn_str
23	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_services.py:28:8
27	        max_size = 5
28	        assert min_size >= 1
29	        assert max_size >= min_size

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_services.py:29:8
28	        assert min_size >= 1
29	        assert max_size >= min_size
30	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_services.py:34:8
33	        timeout = 10  # seconds
34	        assert timeout > 0
35	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_services.py:47:8
46	        }
47	        assert "question" in query
48	        assert query["top_k"] > 0

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_services.py:48:8
47	        assert "question" in query
48	        assert query["top_k"] > 0
49	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_services.py:57:8
56	        }
57	        assert "answer" in response
58	        assert 0 <= response["confidence"] <= 1

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_services.py:58:8
57	        assert "answer" in response
58	        assert 0 <= response["confidence"] <= 1
59	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_services.py:63:8
62	        use_reranking = True
63	        assert use_reranking is True
64	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_services.py:68:8
67	        k = 10
68	        assert k > 0
69	        assert k <= 100

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_services.py:69:8
68	        assert k > 0
69	        assert k <= 100
70	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_services.py:78:8
77	        url = "http://localhost:6333"
78	        assert "6333" in url
79	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_services.py:83:8
82	        collection = "afo_documents"
83	        assert collection.islower()
84	        assert "_" in collection

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_services.py:84:8
83	        assert collection.islower()
84	        assert "_" in collection
85	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_services.py:89:8
88	        dimension = 1536  # OpenAI embedding
89	        assert dimension > 0
90	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_services.py:98:8
97	        url = "redis://localhost:6379"
98	        assert url.startswith("redis://")
99	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_services.py:103:8
102	        ttl = 300  # 5 minutes
103	        assert ttl == 300
104	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_services.py:109:8
108	        key = f"{prefix}test_key"
109	        assert key.startswith(prefix)
110	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_services.py:118:8
117	        url = "http://localhost:11434"
118	        assert "11434" in url
119	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_services.py:123:8
122	        model = "llama3.2:3b"
123	        assert "llama" in model
124	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_services.py:128:8
127	        timeout = 30  # seconds
128	        assert timeout > 0

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_settings.py:12:4
11	    settings = get_settings()
12	    assert settings is not None
13	    assert hasattr(settings, "POSTGRES_HOST")

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_settings.py:13:4
12	    assert settings is not None
13	    assert hasattr(settings, "POSTGRES_HOST")
14	    assert hasattr(settings, "REDIS_URL")

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_settings.py:14:4
13	    assert hasattr(settings, "POSTGRES_HOST")
14	    assert hasattr(settings, "REDIS_URL")
15	    assert hasattr(settings, "QDRANT_URL")

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_settings.py:15:4
14	    assert hasattr(settings, "REDIS_URL")
15	    assert hasattr(settings, "QDRANT_URL")
16	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_settings.py:21:4
20	    settings = get_settings()
21	    assert settings.POSTGRES_HOST == "localhost"
22	    assert settings.POSTGRES_PORT == 15432

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_settings.py:22:4
21	    assert settings.POSTGRES_HOST == "localhost"
22	    assert settings.POSTGRES_PORT == 15432
23	    assert settings.REDIS_URL.startswith("redis://")

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_settings.py:23:4
22	    assert settings.POSTGRES_PORT == 15432
23	    assert settings.REDIS_URL.startswith("redis://")
24	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_settings.py:30:4
29	    params = settings.get_postgres_connection_params()
30	    assert "host" in params or "database_url" in params
31	    assert "port" in params or "database_url" in params

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_settings.py:31:4
30	    assert "host" in params or "database_url" in params
31	    assert "port" in params or "database_url" in params
32	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_settings.py:38:4
37	    redis_url = settings.get_redis_url()
38	    assert redis_url.startswith("redis://")

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_skills_registry.py:20:8
19	        r2: Any = SkillRegistry()
20	        assert r1 is r2
21	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_skills_registry.py:35:8
34	        )
35	        assert registry.register(skill) is True
36	        # Register again returns False

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_skills_registry.py:37:8
36	        # Register again returns False
37	        assert registry.register(skill) is False
38	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_skills_registry.py:40:8
39	        fetched = registry.get("skill_999_test")
40	        assert fetched == skill
41	        assert fetched.name == "Test Skill"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_skills_registry.py:41:8
40	        assert fetched == skill
41	        assert fetched.name == "Test Skill"
42	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_skills_registry.py:72:8
71	        results = registry.filter(SkillFilterParams(category=SkillCategory.INTEGRATION))
72	        assert len(results) == 1
73	        assert results[0].skill_id == "skill_001_s1"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_skills_registry.py:73:8
72	        assert len(results) == 1
73	        assert results[0].skill_id == "skill_001_s1"
74	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_skills_registry.py:93:8
92	        # Match name
93	        assert len(registry.filter(SkillFilterParams(search="Apple"))) == 1
94	        # Match desc

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_skills_registry.py:95:8
94	        # Match desc
95	        assert len(registry.filter(SkillFilterParams(search="fruit"))) == 1
96	        # No match

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_skills_registry.py:97:8
96	        # No match
97	        assert len(registry.filter(SkillFilterParams(search="banana"))) == 0
98	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_skills_registry.py:104:8
103	        )
104	        assert score.average == 50.0
105	        # Check for Chinese characters as per implementation

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_skills_registry.py:106:8
105	        # Check for Chinese characters as per implementation
106	        assert "眞" in score.summary
107	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_skills_registry.py:140:8
139	        )
140	        assert registry.count() == 1
141	        stats = registry.get_category_stats()

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_skills_registry.py:142:8
141	        stats = registry.get_category_stats()
142	        assert stats[SkillCategory.INTEGRATION.value] == 1
143	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_skills_registry.py:154:12
153	            registry: Any = register_core_skills()
154	            assert registry.count() > 0
155	            assert registry.get("skill_001_youtube_spec_gen") is not None

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_skills_registry.py:155:12
154	            assert registry.count() > 0
155	            assert registry.get("skill_001_youtube_spec_gen") is not None

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:39:8
38	        result = backoff.execute(lambda: "success")
39	        assert result == "success"
40	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:49:8
48	        result = backoff.execute(mock_func)
49	        assert result == "Success"
50	        assert mock_func.call_count == 2

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:50:8
49	        assert result == "Success"
50	        assert mock_func.call_count == 2
51	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:55:8
54	        api_strat = BackoffStrategies.api()
55	        assert api_strat.max_retries == 5
56	        assert api_strat.base_delay == 0.5

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:56:8
55	        assert api_strat.max_retries == 5
56	        assert api_strat.base_delay == 0.5
57	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:65:8
64	        detector = ContainerDetector()
65	        assert detector.project_prefix == "afo"
66	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:75:12
74	            name = detector.detect_redis_container()
75	            assert name == "afo-redis-test"
76	            # Verify cache hit

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:77:12
76	            # Verify cache hit
77	            assert detector.detect_redis_container() == "afo-redis-test"
78	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:86:12
85	            name = detector.detect_postgres_container()
86	            assert name == "afo-postgres-test"
87	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:95:12
94	
95	            assert detector.detect_redis_container() == "afo-redis-1"
96	            assert detector.detect_postgres_container() == "afo-postgres-1"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:96:12
95	            assert detector.detect_redis_container() == "afo-redis-1"
96	            assert detector.detect_postgres_container() == "afo-postgres-1"
97	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:106:12
105	            path = detector.detect_api_wallet_path()
106	            assert path is not None
107	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:109:8
108	        # Test cache
109	        assert detector.detect_api_wallet_path() == path
110	

--------------------------------------------------
>> Issue: [B108:hardcoded_tmp_directory] Probable insecure usage of temp file/directory.
   Severity: Medium   Confidence: Medium
   CWE: CWE-377 (https://cwe.mitre.org/data/definitions/377.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b108_hardcoded_tmp_directory.html
   Location: packages/afo-core/tests/test_utils.py:118:52
117	            with (
118	                patch.dict(os.environ, {"AFO_HOME": "/tmp/test"}),
119	                patch("pathlib.Path.exists", return_value=True),

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:125:20
124	                    path = detector.detect_api_wallet_path()
125	                    assert path.startswith("/tmp/test")
126	                except (ImportError, ModuleNotFoundError):

--------------------------------------------------
>> Issue: [B108:hardcoded_tmp_directory] Probable insecure usage of temp file/directory.
   Severity: Medium   Confidence: Medium
   CWE: CWE-377 (https://cwe.mitre.org/data/definitions/377.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b108_hardcoded_tmp_directory.html
   Location: packages/afo-core/tests/test_utils.py:125:43
124	                    path = detector.detect_api_wallet_path()
125	                    assert path.startswith("/tmp/test")
126	                except (ImportError, ModuleNotFoundError):

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:136:8
135	        detector.clear_cache()
136	        assert len(detector._cache) == 0
137	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:144:12
143	            containers = detector.get_all_containers()
144	            assert "redis" in containers
145	            assert "postgres" in containers

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:145:12
144	            assert "redis" in containers
145	            assert "postgres" in containers
146	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:154:8
153	        calibrator = FrictionCalibrator()
154	        assert calibrator.target_friction == 0.02
155	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:168:8
167	        recommended = calibrator.recommend(stats)
168	        assert recommended < 10
169	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:180:8
179	        lazy_json = LazyModule("json")
180	        assert lazy_json.dumps({"a": 1}) == '{"a": 1}'
181	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:187:8
186	        lazy_os = LazyModule("os")
187	        assert lazy_os.is_available() is True
188	        assert lazy_os.get_error() is None

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:188:8
187	        assert lazy_os.is_available() is True
188	        assert lazy_os.get_error() is None
189	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:201:8
200	        # Should use fallback
201	        assert lazy_missing.hello() == "world"
202	        assert lazy_missing.is_available() is False

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:202:8
201	        assert lazy_missing.hello() == "world"
202	        assert lazy_missing.is_available() is False
203	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:221:8
220	        lazy_len = LazyFunction("builtins", "len")
221	        assert lazy_len([1, 2, 3]) == 3
222	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:231:8
230	        lazy_func = LazyFunction("missing_mod", "missing_func", fallback=fallback)
231	        assert lazy_func() == "fallback"
232	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:258:8
257	        client = get_redis_client()
258	        assert client is mock_client
259	        mock_client.ping.assert_called_once()

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:294:8
293	        client = await get_async_redis_client()
294	        assert client is mock_client
295	        mock_client.ping.assert_called_once()

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:320:12
319	            c2 = get_shared_redis_client()
320	            assert c1 is c2
321	            assert mock_sync_getter.call_count == 1

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:321:12
320	            assert c1 is c2
321	            assert mock_sync_getter.call_count == 1
322	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:326:12
325	            ac2 = await get_shared_async_redis_client()
326	            assert ac1 is ac2
327	            assert mock_async_getter.call_count == 1

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:327:12
326	            assert ac1 is ac2
327	            assert mock_async_getter.call_count == 1
328	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:334:12
333	
334	            assert rc_module._redis_client is None
335	            assert rc_module._async_redis_client is None

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:335:12
334	            assert rc_module._redis_client is None
335	            assert rc_module._async_redis_client is None
336	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:350:8
349	        s1 = FrictionStats(1, 1.0, 1.0)
350	        assert s1.friction == 0.0
351	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:355:8
354	        s2 = FrictionStats(10, 1.0, 0.1)
355	        assert s2.friction == 0.0
356	        assert s2.efficiency == 1.0  # (1.0/10) / 0.1 = 1.0

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:356:8
355	        assert s2.friction == 0.0
356	        assert s2.efficiency == 1.0  # (1.0/10) / 0.1 = 1.0
357	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:361:8
360	        s3 = FrictionStats(10, 1.0, 0.2)
361	        assert s3.friction == pytest.approx(1.0)
362	        assert s3.efficiency == 0.5

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:362:8
361	        assert s3.friction == pytest.approx(1.0)
362	        assert s3.efficiency == 0.5
363	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:385:12
384	
385	            assert stats.sequential_time == 1.0
386	            assert stats.parallel_time == 0.20000000000000018

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:386:12
385	            assert stats.sequential_time == 1.0
386	            assert stats.parallel_time == 0.20000000000000018
387	            assert stats.friction == 0.0

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:387:12
386	            assert stats.parallel_time == 0.20000000000000018
387	            assert stats.friction == 0.0
388	            # Should maintain concurrency

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:389:12
388	            # Should maintain concurrency
389	            assert rec == 4
390	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:401:8
400	        rec = calibrator.recommend(stats_bad)
401	        assert rec == 2  # clamped to min
402	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b101_assert_used.html
   Location: packages/afo-core/tests/test_utils.py:406:8
405	        rec = calibrator.recommend(stats_ok)
406	        assert rec == 7

--------------------------------------------------
>> Issue: [B404:blacklist] Consider possible security implications associated with the subprocess module.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_imports.html#b404-import-subprocess
   Location: packages/afo-core/utils/automation_tools.py:16:0
15	import logging
16	import subprocess
17	from pathlib import Path

--------------------------------------------------
>> Issue: [B603:subprocess_without_shell_equals_true] subprocess call - check for execution of untrusted input.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b603_subprocess_without_shell_equals_true.html
   Location: packages/afo-core/utils/automation_tools.py:33:21
32	        try:
33	            result = subprocess.run(
34	                [tool_name, "--version"],
35	                capture_output=True,
36	                text=True,
37	                timeout=5,
38	            )
39	            available = result.returncode == 0

--------------------------------------------------
>> Issue: [B607:start_process_with_partial_path] Starting a process with a partial executable path
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b607_start_process_with_partial_path.html
   Location: packages/afo-core/utils/automation_tools.py:74:21
73	        try:
74	            result = subprocess.run(
75	                ["pre-commit", "run", "--all-files"],
76	                cwd=self.project_root,
77	                capture_output=True,
78	                text=True,
79	                timeout=300,
80	            )
81	            return {

--------------------------------------------------
>> Issue: [B603:subprocess_without_shell_equals_true] subprocess call - check for execution of untrusted input.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b603_subprocess_without_shell_equals_true.html
   Location: packages/afo-core/utils/automation_tools.py:74:21
73	        try:
74	            result = subprocess.run(
75	                ["pre-commit", "run", "--all-files"],
76	                cwd=self.project_root,
77	                capture_output=True,
78	                text=True,
79	                timeout=300,
80	            )
81	            return {

--------------------------------------------------
>> Issue: [B404:blacklist] Consider possible security implications associated with the subprocess module.
   Severity: Low   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_imports.html#b404-import-subprocess
   Location: packages/afo-core/utils/container_detector.py:17:0
16	import os
17	import subprocess
18	from pathlib import Path

--------------------------------------------------
>> Issue: [B602:subprocess_popen_with_shell_equals_true] subprocess call with shell=True identified, security issue.
   Severity: High   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b602_subprocess_popen_with_shell_equals_true.html
   Location: packages/afo-core/utils/container_detector.py:41:21
40	                f"docker ps --filter 'name=redis' --format '{{{{.Names}}}}' | grep {self.project_prefix} | head -1",
41	                shell=True,
42	                capture_output=True,
43	                text=True,
44	                timeout=2,
45	            )
46	            container_name = result.stdout.strip()
47	            if container_name:
48	                self._cache["redis"] = str(container_name)

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/utils/container_detector.py:50:8
49	                return str(container_name)
50	        except Exception:
51	            pass
52	

--------------------------------------------------
>> Issue: [B602:subprocess_popen_with_shell_equals_true] subprocess call with shell=True identified, security issue.
   Severity: High   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b602_subprocess_popen_with_shell_equals_true.html
   Location: packages/afo-core/utils/container_detector.py:66:21
65	                f"docker ps --filter 'name=postgres' --format '{{{{.Names}}}}' | grep {self.project_prefix} | head -1",
66	                shell=True,
67	                capture_output=True,
68	                text=True,
69	                timeout=2,
70	            )
71	            container_name = result.stdout.strip()
72	            if container_name:
73	                self._cache["postgres"] = container_name

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/utils/container_detector.py:75:8
74	                return container_name
75	        except Exception:
76	            pass
77	

--------------------------------------------------
>> Issue: [B311:blacklist] Standard pseudo-random generators are not suitable for security/cryptographic purposes.
   Severity: Low   Confidence: High
   CWE: CWE-330 (https://cwe.mitre.org/data/definitions/330.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/blacklists/blacklist_calls.html#b311-random
   Location: packages/afo-core/utils/exponential_backoff.py:200:20
199	            # Full Jitter: 0 ~ delay 범위의 무작위 값
200	            delay = random.uniform(0, delay)
201	

--------------------------------------------------
>> Issue: [B102:exec_used] Use of exec detected.
   Severity: Medium   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b102_exec_used.html
   Location: packages/afo-core/utils/playwright_bridge.py:218:12
217	            exec_globals: dict[str, Any] = {}
218	            exec(test_code, exec_globals)
219	            test_func = exec_globals.get("test_scenario")

--------------------------------------------------
>> Issue: [B324:hashlib] Use of weak MD5 hash for security. Consider usedforsecurity=False
   Severity: High   Confidence: High
   CWE: CWE-327 (https://cwe.mitre.org/data/definitions/327.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b324_hashlib.html
   Location: packages/afo-core/utils/redis_optimized.py:240:11
239	    key_data = f"{prefix}:{args}:{sorted(kwargs.items())}"
240	    return hashlib.md5(key_data.encode()).hexdigest()
241	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/utils/redis_saver.py:44:8
43	                return val
44	        except Exception:
45	            pass
46	

--------------------------------------------------
>> Issue: [B110:try_except_pass] Try, Except, Pass detected.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.8.6/plugins/b110_try_except_pass.html
   Location: packages/afo-core/utils/redis_saver.py:64:8
63	                return self.serde.decode(data.encode("utf-8"))
64	        except Exception:
65	            pass
66	        # Fallback

--------------------------------------------------

Code scanned:
	Total lines of code: 53785
	Total lines skipped (#nosec): 0
	Total potential issues skipped due to specifically being disabled (e.g., #nosec BXXX): 2

Run metrics:
	Total issues (by severity):
		Undefined: 0
		Low: 543
		Medium: 31
		High: 12
	Total issues (by confidence):
		Undefined: 0
		Low: 2
		Medium: 17
		High: 567
Files skipped (0):
