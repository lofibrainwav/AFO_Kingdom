== (3) wallet HTTP 사실 확인 ==
--- http://127.0.0.1:8011/health
HTTP/1.1 200 OK
date: Mon, 29 Dec 2025 01:06:58 GMT
server: uvicorn
content-length: 47
content-type: application/json

{"status":"healthy","service":"wallet-service"}--- http://127.0.0.1:8011/openapi.json
HTTP/1.1 200 OK
date: Mon, 29 Dec 2025 01:06:58 GMT
server: uvicorn
content-length: 10019
content-type: application/json

{"openapi":"3.1.0","info":{"title":"AFO Wallet Service","description":"API Wallet 서비스 - 키 관리 및 보안","version":"1.0.0"},"paths":{"/health":{"get":{"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/wallet/billing/usage/{api_id}":{"get":{"tags":["Wallet","Wallet Billing"],"summary":"Get Api Usage","description":"**API 사용량 조회** - 특정 API의 사용량 및 청구 정보\n\n**Path Parameter**: api_id (API 식별자)\n**Response**: 사용량 정보","operationId":"get_api_usage_api_wallet_billing_usage__api_id__get","parameters":[{"name":"api_id","in":"path","required":true,"schema":{"type":"string","title":"Api Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Api Usage Api Wallet Billing Usage  Api Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/wallet/billing/summary":{"get":{"tags":["Wallet","Wallet Billing"],"summary":"Get Billing Summary","description":"**청구 요약** - 전체 API 사용량 및 청구 요약\n\n**Response**: 청구 요약 정보","operationId":"get_billing_summary_api_wallet_billing_summary_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Billing Summary Api Wallet Billing Summary Get"}}}}}}},"/api/wallet/session/{session_id}":{"get":{"tags":["Wallet"],"summary":"Get Wallet Session","description":"**Wallet 세션 조회** - Redis에서 세션 정보를 가져옴","operationId":"get_wallet_session_api_wallet_session__session_id__get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Wallet Session Api Wallet Session  Session Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/wallet/session/extract":{"post":{"tags":["Wallet"],"summary":"Extract Wallet Session","description":"**Wallet 세션 추출** - 브라우저 세션에서 API 키 추출","operationId":"extract_wallet_session_api_wallet_session_extract_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WalletSessionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Extract Wallet Session Api Wallet Session Extract Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/wallet/setup/api-key":{"post":{"tags":["Wallet","Wallet Setup"],"summary":"Set Api Key","description":"**Wallet API 키 설정** - API 키 저장 및 관리\n\n**Request Body**:\n- `provider` (str): API 제공자 (openai, anthropic, google 등)\n- `api_key` (str): API 키\n- `environment` (str): 환경 (production, development)\n\n**Response**: 설정 결과","operationId":"set_api_key_api_wallet_setup_api_key_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WalletAPIKeyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Set Api Key Api Wallet Setup Api Key Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/wallet/setup/status":{"get":{"tags":["Wallet","Wallet Setup"],"summary":"Get Wallet Status","description":"**Wallet 상태 조회** - API Wallet 시스템 상태 확인\n\n**Response**: Wallet 상태 및 API 제공자 정보","operationId":"get_wallet_status_api_wallet_setup_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WalletStatusResponse"}}}}}}},"/api/wallet/keys":{"get":{"tags":["Wallet","Wallet Keys"],"summary":"List Keys","description":"List all stored API keys (metadata only)","operationId":"list_keys_api_wallet_keys_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/KeyResponse"},"type":"array","title":"Response List Keys Api Wallet Keys Get"}}}}}},"post":{"tags":["Wallet","Wallet Keys"],"summary":"Add Key","description":"Add a new API key","operationId":"add_key_api_wallet_keys_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddKeyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Add Key Api Wallet Keys Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/wallet/keys/{name}":{"delete":{"tags":["Wallet","Wallet Keys"],"summary":"Delete Key","description":"Delete an API key","operationId":"delete_key_api_wallet_keys__name__delete","parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string","title":"Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Key Api Wallet Keys  Name  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/wallet/browser/save-token":{"post":{"tags":["Wallet","Browser Bridge"],"summary":"Save Browser Token","description":"Save a browser session token to the API Wallet.","operationId":"save_browser_token_api_wallet_browser_save_token_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BrowserTokenRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Save Browser Token Api Wallet Browser Save Token Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/wallet/browser/extraction-script":{"get":{"tags":["Wallet","Browser Bridge"],"summary":"Get Extraction Script","description":"Returns the JS script for the user to run in their browser console.","operationId":"get_extraction_script_api_wallet_browser_extraction_script_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Get Extraction Script Api Wallet Browser Extraction Script Get"}}}}}}}},"components":{"schemas":{"AddKeyRequest":{"properties":{"name":{"type":"string","title":"Name"},"key":{"type":"string","title":"Key"},"service":{"type":"string","title":"Service","default":"unknown"},"description":{"type":"string","title":"Description","default":""}},"type":"object","required":["name","key"],"title":"AddKeyRequest"},"BrowserTokenRequest":{"properties":{"service":{"type":"string","title":"Service"},"token":{"type":"string","title":"Token"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"user_agent":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Agent"}},"type":"object","required":["service","token"],"title":"BrowserTokenRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"KeyResponse":{"properties":{"name":{"type":"string","title":"Name"},"service":{"type":"string","title":"Service"},"key_type":{"type":"string","title":"Key Type"},"read_only":{"type":"boolean","title":"Read Only"},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"},"access_count":{"type":"integer","title":"Access Count","default":0}},"type":"object","required":["name","service","key_type","read_only"],"title":"KeyResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WalletAPIKeyRequest":{"properties":{"provider":{"type":"string","title":"Provider","description":"API 제공자"},"api_key":{"type":"string","title":"Api Key","description":"API 키"},"environment":{"type":"string","title":"Environment","description":"환경 (production, development)","default":"production"}},"type":"object","required":["provider","api_key"],"title":"WalletAPIKeyRequest","description":"Wallet API 키 설정 요청 모델"},"WalletSessionRequest":{"properties":{"session_id":{"type":"string","title":"Session Id"},"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider"}},"type":"object","required":["session_id"],"title":"WalletSessionRequest"},"WalletStatusResponse":{"properties":{"status":{"type":"string","title":"Status"},"providers":{"additionalProperties":true,"type":"object","title":"Providers"},"total_apis":{"type":"integer","title":"Total Apis"},"timestamp":{"type":"string","title":"Timestamp"}},"type":"object","required":["status","providers","total_apis","timestamp"],"title":"WalletStatusResponse","description":"Wallet 상태 응답 모델"}}}}--- http://127.0.0.1:8011/api/wallet/keys
HTTP/1.1 200 OK
date: Mon, 29 Dec 2025 01:06:58 GMT
server: uvicorn
content-length: 2
content-type: application/json

[]--- http://127.0.0.1:8011/api/wallet/add
HTTP/1.1 404 Not Found
date: Mon, 29 Dec 2025 01:06:58 GMT
server: uvicorn
content-length: 22
content-type: application/json

{"detail":"Not Found"}